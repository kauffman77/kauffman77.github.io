<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2025-10-17 Fri 16:54 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>CMSC216 Lab07: Stack Space and Function Calls</title>
<meta name="author" content="Chris Kauffman" />
<meta name="generator" content="Org Mode" />
<style type="text/css">
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<meta name="viewport" content="width=device-width, maximum-scale=1, minimum-scale=1" />
<style type="text/css">
@media screen {
:root {
--heading-bg-color:#e21833;
--heading-fg-color:#ffd200;
}
html {
font-family: serif;
text-align: justify;
}
pre.src, pre.example {
overflow-x: scroll;
}
/* Merge subtitle area with title area */
.subtitle {
text-align: center;
margin-top: -2em;
padding-top: 1em;
padding-bottom: 0.1em;
}
.title, .subtitle {
color: var(--heading-fg-color);
background-color: var(--heading-bg-color);
}
/* Section borders, left section header style */
div.outline-2, #table-of-contents {
background-color: rgb(250,250,250);
border: 0.75em solid var(--heading-bg-color);
border-top: 0em;
padding: 0em .5em .5em .5em; /* top right bottom left */
margin: 1em 0em 1em 0em; /* top right bottom left */
}
div.outline-2 > h2, #table-of-contents > h2 {
background-color: var(--heading-bg-color);
color: var(--heading-fg-color);
font-variant: small-caps;
padding: 0em 0em 0em .5em; /* top right bottom left */
margin: 0em -.5em 0em -.75em; /* top right bottom left */
text-align: left;
}
blockquote {
font-style: italic;
}
td, th {
padding-top: 2px;
padding-bottom: 2px;
}
body {
background-color: #EEE;
}
pre {
}
#content, #preamble, #postamble {
margin-left:300px;
max-width: 100%;
}
.tag {
background-color: inherit; font-family: inherit;
padding: inherit; font-size: 80%; font-weight: inherit;
text-transform: uppercase;
}

.figure p { text-align: inherit; }
figure-number { font-style: italic; }
#table-of-contents {
text-align: left;
position: fixed;
left: 0;
margin: 0 auto;
padding: 0;
width: 300px;
top: 0;
height: 100%;
border: 0;
display: block;
}
#text-table-of-contents {
overflow-y: scroll;
height: 100%;
}
#text-table-of-contents ul {
padding-left: 1em;
margin-left: 0.5em;
}
#table-of-contents > h2 {
padding: 0.1em;
margin: 0;
}
/* adjustments for small screen, toc at top only */
@media (max-width: 800px) { /* landscape for iphone */
html {
-webkit-text-size-adjust: none;  /* prevent scaling of text on mobile */
}
body {
background-color: #EEE;
width:100%;
margin:0 auto;
}
#content, #preamble, #postamble {
margin-left:0;
}
#table-of-contents {
position: static;
left: inherit;
width:inherit;
height: auto;
border-top: 0em;
padding: 0em .5em .5em .5em; /* top right bottom left */
margin: 1em 0em 1em 0em; /* top right bottom left */
border: 0.75em solid #006633;
}
div.outline-2, #table-of-contents {
background-color: rgb(250,250,250);
border: 0.75em solid var(--heading-bg-color);
border-top: 0em;
padding: 0em .5em .5em .5em; /* top right bottom left */
margin: 1em 0em 1em 0em; /* top right bottom left */
}
div.outline-2 > h2, #table-of-contents > h2 {
background-color: var(--heading-bg-color);
color: var(--heading-fg-color);
font-variant: small-caps;
padding: 0em 0em 0em .5em; /* top right bottom left */
margin: 0em -.5em 0em -.75em; /* top right bottom left */
text-align: left;
}
#text-table-of-contents {
overflow-y: visible;
height: inherit;
}
#text-table-of-contents ul {
padding-left: 1em;
margin-left: 0.5em;
}
}
.linenr { font-size: xx-small; }
th.org-left   { text-align: left;   }
details > summary {
padding: 2px 6px;
font-family: Sans;
font-size: 0.8em;
width: fit-content;
border-radius: 5px;
background-color: #efefef;
border: 1px solid black;
cursor: pointer;
}
}

@media print {
html {
font-family: serif;
font-size: 10pt;
text-align: justify;
.linenr { font-size: xx-small; }
}
}
</style>
<style>
/* Theme: Srcery
Description: Srcery dark color scheme for highlight.js
Author: Chen Bin <chen.bin@gmail.com>
Maintainer: @redguardtoo
Website: https://srcery-colors.github.io/
Date: 2021-04-13
https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/srcery.css

Tailored by: Chris Kauffman <profk@umd.edu>
Date: Sat Nov 25 06:16:20 PM EST 2023
*/
pre code.hljs {
display: block;
overflow-x: auto;
padding: 1em
}
code.hljs {
padding: 3px 5px
}
.hljs {
background: #1C1B19;
/* Black */
color: #FFFFFF/* Bright White */

}
/* Bright White */
.hljs-subst,
.hljs-quote,
.hljs-literal {
color: #FCE8C3
}
/* Bright Blue */
.hljs-type,
.hljs-symbol {
color: #68A8E4
}
/* Red */
.hljs-keyword,
.hljs-deletion {
color: #EF2F27
}
/* Yellow */
.hljs-name,
.hljs-function,
.hljs-attribute,
.hljs-selector-attr,
.hljs-selector-id,
.hljs-selector-class,
.hljs-selector-pseudo,
.hljs-section,
.hljs-title {
color: #FBB829
}
/* Cyan */
.hljs-code,
.hljs-variable,
.hljs-property,
.hljs-template-variable,
.hljs-class {
color: #0AAEB3
}
/* Bright Green */
.hljs-string,
.hljs-regexp,
.hljs-bullet,
.hljs-addition {
color: #98BC37
}
/* Bright Magenta */
.hljs-built_in,
.hljs-params {
color: #FF5C8F
}
/* Blue */
.hljs-template-tag,
.hljs-selector-tag {
color: #2C78BF
}
/* Bright Black */
.hljs-link,
.hljs-number,
.hljs-comment,
.hljs-meta {
color: #B1B195
/* color: #918175 */
}
.hljs-emphasis {
font-style: italic
}
.hljs-strong {
font-weight: bold
}
/* @see https://github.com/srcery-colors/srcery-emacs for reference */
</style>

<link rel="stylesheet" href="./srcery-ck.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', (event) => {
function interactive_lang() {      // define a custom "interactive" language
return {
name: 'interactive',           // language name
keywords: {
$pattern: /[^ \t\n]+/,       // lex based on non-whitespace
keyword: [">>","(shellac)","[COMMANDO]>>","HM>","TM>","HS>","homeputer>","grace3:","grace4:","grace5:","grace6:","grace7:","grace8:","grace9:","grace10:","grace3>>","grace4>>","grace5>>","grace6>>","grace7>>","grace8>>","grace9>>","grace10>>"], // allowed interactive prompts
literal: ["[data/script.txt]>>","[data/script1.txt]>>","[data/script6.txt]>>"],
},
contains: [
// hljs.HASH_COMMENT_MODE,   // use standard hash comments, any # is a comment
hljs.COMMENT(/#+ /, /$/),    // use custom comment of # w/ whitespace
// hljs.COMMENT(/## /, /$/),     // hash-hash-ws for comment
hljs.COMMENT(/##+/, /$/),     // or a sequence of hashes
]
};
};
hljs.registerLanguage('interactive', interactive_lang);     // register custom language

// Add highlighjs CSS classes to elemens marked with relevant org classes
lang_map = new Map();              // map of org to hljs languages
lang_map.set("src-c"     , "language-c");
lang_map.set("src-python", "language-python");
lang_map.set("src-text"  , "language-plaintext");
lang_map.set("src-sh"    , "language-interactive");
function add_class(el) {           // applied to each pre.src element
for (let [org_lang, hljs_lang] of lang_map) {
if(el.classList.contains(org_lang)){
el.classList.add(hljs_lang);
}
}
}
// visit all pre.src elements and apply function to add language class
document.querySelectorAll('pre.src').forEach(add_class);
hljs.configure({cssSelector: 'pre'}); // select pre blocks only to highligh
hljs.highlightAll();                  // perform highlighting on all pre blocks
});
</script>
</head>
<body>
<div id="preamble" class="status">
<i>Last Updated: 2025-10-17 Fri 16:54</i>
</div>
<div id="content" class="content">
<h1 class="title">CMSC216 Lab07: Stack Space and Function Calls</h1>
<ul class="org-ul">
<li><b>Due: 11:59pm Sun 26-Oct-2025</b> on <a href="https://www.gradescope.com/">Gradescope</a></li>
<li><i>Approximately 1.00% of total grade</i></li>
</ul>
<div id="outline-container-org3d1ecd4" class="outline-4">
<h4 id="org3d1ecd4">CODE DISTRIBUTION: <a href="lab07-code.zip">lab07-code.zip</a></h4>
</div>

<div id="outline-container-org53ed00a" class="outline-4">
<h4 id="org53ed00a">CHANGELOG: Empty</h4>
</div>

<div id="outline-container-org7326513" class="outline-4">
<h4 id="org7326513"></h4>
<div class="outline-text-4" id="text-org7326513">
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orge1be0e5">1. Rationale</a></li>
<li><a href="#orgdb44b71">2. Codepack</a></li>
<li><a href="#org02cc2b3">3. Using Stack Space for Local Variables</a>
<ul>
<li><a href="#org4f4e1cd">Locals in the Stack</a></li>
<li><a href="#org6ec1a05">Creating Stack Space</a></li>
<li><a href="#orge6b1cef">Address of Locals in Assembly</a></li>
<li><a href="#org8781911">Calls to <code>printf()</code></a></li>
<li><a href="#org2eafc79">Grow/Shrink the Stack</a></li>
</ul>
</li>
<li><a href="#orgd8de10d">4. QUESTIONS.txt File Contents</a></li>
<li><a href="#orgf4c49ad">5. Submission</a></li>
</ul>
</div>
</div>
</div>
</div>
<div id="outline-container-orge1be0e5" class="outline-2">
<h2 id="orge1be0e5"><span class="section-number-2">1</span> Rationale</h2>
<div class="outline-text-2" id="text-1">
<p>
Debuggers must inherently deal with binary programs as this is what
the processor actually runs. While it is massively more convenient
when high-level source code is available to use during debugging, it
is still possible to analyze and understand program behavior by
<b>disassembling</b> the compiled instructions contained in the program.
Most debuggers can do this in debug sessions producing text versions
of the assembly code and as well show values in registers and memory
those instructions manipulate. That in combination with a strong will
and reservoir of patience allow debugging of binaries without source
code. This lab provides practices the working with binaries to deepen
knowledge of the debugger and compiled assembly.
</p>

<p>
Function calls are an important abstraction in any computing
environment.  At the architecture/assembly level, function calls often
involve some setup such as placing arguments in certain
registers. Functions that require local variables in main memory must
manipulate the stack pointer, <code>%rsp</code> in x86-64, to "create" such space
and then track offsets from the stack pointer at which various local
variables reside.  These two phenomena are intertwined: calling a
function always means aligning the <code>%rsp</code> to a 16-byte boundary and
passing the main memory address of a local variable to another
function often involves loading an argument variable with an address
based on <code>%rsp</code>. This lab demonstrates these concepts by completing a
<code>main()</code> function in assembly which has several local variables that
require main memory addresses and passes those addresses to another
function.
</p>
</div>
<div id="outline-container-org5a871e7" class="outline-4">
<h4 id="org5a871e7">Associated Reading / Preparation</h4>
<div class="outline-text-4" id="text-org5a871e7">
<p>
PROBLEM 1
</p>
<ul class="org-ul">
<li><a href="https://kauffman77.github.io/tutorials/gdb.html#gdb-assembly">Quick Guide to GDB: Run Assembly Without Source Code Available</a>:
Tricks to deal with binary only files where no source code is
available.</li>
</ul>

<p>
PROBLEM 2
</p>
<ul class="org-ul">
<li>Bryant and O'Hallaron Ch 3.7 on assembly procedure call conventions in
x86-64. This section includes discussion of using the stack for
local variables and passing arguments to functions.</li>
</ul>
</div>
</div>
<div id="outline-container-orgc893402" class="outline-4">
<h4 id="orgc893402">Grading Policy</h4>
<div class="outline-text-4" id="text-orgc893402">
<p>
Credit for this exercise is earned by completing the code/asnwers here
and submitting a Zip of the work to Gradescope. Students are
responsible to check that the results produced locally via <code>make test</code>
are reflected on Gradescope after submitting their completed
Zip. Successful completion earns 1 Engagement Point.
</p>

<p>
Lab Exercises are open resource/open collaboration and <b>students are
encouraged to cooperate on labs.</b> Students may submit work as groups
of up to 5 to Gradescope: one person submits then adds the names of
their group members to the submission.
</p>

<p>
See the <a href="https://www.cs.umd.edu/~profk/216/syllabus.html">full policies in the course syllabus</a>.
</p>
</div>
</div>
</div>
<div id="outline-container-orgdb44b71" class="outline-2">
<h2 id="orgdb44b71"><span class="section-number-2">2</span> Codepack</h2>
<div class="outline-text-2" id="text-2">
<p>
The codepack for the HW contains the following files:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">File</th>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>QUESTIONS.txt</code></td>
<td class="org-left">EDIT</td>
<td class="org-left">Questions to answer: fill in the multiple choice selections in this file.</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>quote_main.c</code></td>
<td class="org-left">Provided</td>
<td class="org-left">Problem 1: Main file for debugging</td>
</tr>

<tr>
<td class="org-left"><code>quote_data.o</code></td>
<td class="org-left">Provided</td>
<td class="org-left">Problem 1: Binary file for debugging</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>order2_asm.s</code></td>
<td class="org-left">EDIT</td>
<td class="org-left">Problem 2: Incomplete Assembly main() function, fill in remaining code</td>
</tr>

<tr>
<td class="org-left"><code>order2_c.c</code></td>
<td class="org-left">Provided</td>
<td class="org-left">Problem 2: C version of code for reference</td>
</tr>

<tr>
<td class="org-left"><code>order3_asm.s</code></td>
<td class="org-left">EDIT</td>
<td class="org-left">Problem 2: Incomplete Assembly main() function, fill in remaining code</td>
</tr>

<tr>
<td class="org-left"><code>order3_c.c</code></td>
<td class="org-left">Provided</td>
<td class="org-left">Problem 2: C version of code for reference</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><code>Makefile</code></td>
<td class="org-left">Build</td>
<td class="org-left">Enables <code>make test</code> and <code>make zip</code></td>
</tr>

<tr>
<td class="org-left"><code>QUESTIONS.txt.bk</code></td>
<td class="org-left">Backup</td>
<td class="org-left">Backup copy of the original file to help revert if needed</td>
</tr>

<tr>
<td class="org-left"><code>QUESTIONS.md5</code></td>
<td class="org-left">Testing</td>
<td class="org-left">Checksum for answers in questions file</td>
</tr>

<tr>
<td class="org-left"><code>test_quiz_filter</code></td>
<td class="org-left">Testing</td>
<td class="org-left">Filter to extract answers from Questions file, used in testing</td>
</tr>

<tr>
<td class="org-left"><code>test_order_asm.org</code></td>
<td class="org-left">Testing</td>
<td class="org-left">Tests for code portions of the lab run via <code>make test-code</code></td>
</tr>

<tr>
<td class="org-left"><code>test_lab07.org</code></td>
<td class="org-left">Testing</td>
<td class="org-left">Tests for this exercise</td>
</tr>

<tr>
<td class="org-left"><code>testy</code></td>
<td class="org-left">Testing</td>
<td class="org-left">Test running scripts</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org02cc2b3" class="outline-2">
<h2 id="org02cc2b3"><span class="section-number-2">3</span> Using Stack Space for Local Variables</h2>
<div class="outline-text-2" id="text-3">
<p>
This exercise focuses on situations where local variables in a function
like <code>main()</code> require main memory addresses. 
</p>
<ol class="org-ol">
<li>Examine the Completed code in <code>order2_c.c</code> first to get a sense of
the C code versions of the <code>main()</code> and <code>order2()</code> functions.</li>
<li>Examine the assembly code in <code>order2_asm.s</code>:
<ul class="org-ul">
<li>COMPLETE the assembly <code>main()</code> according to the provided outline</li>
<li>The assembly <code>order2()</code> function is complete and correct and
requires no modification.</li>
</ul></li>
<li>Examine the Completed code in <code>order3_c.c</code> first to get a sense of
the C code versions of the <code>main()</code> and <code>order3()</code> functions.  Note
that there are several function calls and many more local variables
requiring addresses.</li>
<li>Examine the assembly code in <code>order3_asm.s</code> and complete the TODO
sections in <code>main()</code> according to the provided outline. Pay careful
attention to the local variable layout table.</li>
</ol>
</div>
<div id="outline-container-org4f4e1cd" class="outline-3">
<h3 id="org4f4e1cd">Locals in the Stack</h3>
<div class="outline-text-3" id="text-org4f4e1cd">
<p>
Demoers will examine code such as the following fragment from <code>main()</code>
in <code>order2_c.c</code>:
</p>
<div class="org-src-container">
<pre class="src src-c">  int r=17, t=12;
  order2(&amp;r, &amp;t);
</pre>
</div>
<p>
It is important to realize that <b>since <code>r,t</code> need memory addresses
for the function call, they cannot exist only in registers</b>.  A
compiler will likely place them in the function call stack. This
appears in x86-64 assembly as offsets from the stack pointer <code>%rsp</code>
such as the following fragment in <code>order2_asm.s</code>:
</p>
<div class="org-src-container">
<pre class="src src-asm">  movl    $17, 0(%rsp)           # r=17
  movl    $12, 4(%rsp)           # t=12
</pre>
</div>
<p>
Near the top of the assembly code for <code>main()</code> is a table indicating
the locations of all the local variables in the stack.
</p>
</div>
</div>
<div id="outline-container-org6ec1a05" class="outline-3">
<h3 id="org6ec1a05">Creating Stack Space</h3>
<div class="outline-text-3" id="text-org6ec1a05">
<p>
<b>Prior to writing into the stack the stack pointer <code>%rsp</code> must be
adjusted to grow the stack.</b> Growing the stack is usually done via one
of two methods.
</p>
<ol class="org-ol">
<li>A subtraction like <code>subq $24, %rsp</code> which will grow the stack by 24
bytes. The specific value is chosen to be large enough for all local
variables but leaves that area uninitialized. Subtractions are
usually used at the beginning of a function execution to grow the
stack.</li>
<li>A push like <code>pushl %r15d</code> which will grow the stack a little, 4
bytes in this case, and initialize the new space with a value, in
this case the value in register <code>%r15d</code>.  Several <code>pushX</code>
instructions can be used in a row, usually towards the beginning of
a function. They are most often used to save registers that will be
changed and need be restored such as <code>%r15</code> or other Callee save
registers.</li>
</ol>
<p>
Note that the stack grows downwards to lower addresses and shrinks
upwards to higher addresses in x86-64. Later when the stack needs to
shrink, the "inverse" instructions are used to adjust <code>%rsp</code>.
</p>
<ul class="org-ul">
<li>An addition like <code>addq $24, %rsp</code> undoes a subtraction of 24 bytes.</li>
<li>A pop like <code>popl %r15d</code> which copies the 4-byte value at the top of
the stack into the given register and shrinks the stack by 4 bytes.</li>
</ul>
<p>
Keep in mind that any changes to <code>%rsp</code> must be undone before
returning as <code>%rsp</code> must point at the function's return address when
<code>ret</code> is used.
</p>

<p>
<b>Insert assembly code</b> near the top of <code>main()</code> in the provided
assembly files to grow the stack by an appropriate amount of
space. This is discussed further in the <a href="#orgad4c672">Grow/Shrink</a> section later.
</p>
</div>
</div>
<div id="outline-container-orge6b1cef" class="outline-3">
<h3 id="orge6b1cef">Address of Locals in Assembly</h3>
<div class="outline-text-3" id="text-orge6b1cef">
<p>
The preceding assembly fragment is followed by additional instructions
which equate to the address-of <code>&amp;x</code> operator in C to load the stack
locations of several local variables prior to a function call. This
appears as the following assembly code.
</p>
<div class="org-src-container">
<pre class="src src-asm">  movq    %rsp, %rdi             # arg1 &amp;r 
  leaq    4(%rsp), %rsi          # arg2 &amp;t
  leaq    8(%rsp), %rdx          # arg3 &amp;v
  call    order3                 # function call: order3(&amp;r, &amp;t, &amp;v);
</pre>
</div>
<p>
Note the use of <code>movq</code> to copy the stack pointer to <code>%rdi</code> as <code>%rsp</code>
contains the address of the variable <code>r</code> already while the Load
Effective Address <code>leaq</code> instruction is used to compute the addresses
for variables <code>t,v</code> and store them in registers.  
</p>

<p>
There are similar blocks that follow this initial example and you
should use the table at the top of <code>main()</code> to guide you on where the
various local variables are stored in the stack.  Note that this stack
storage is required because the <code>order3()</code> function requires memory
addresses/pointers as arguments so the variables must be stored in
main memory rather than registers.
</p>
</div>
</div>
<div id="outline-container-org8781911" class="outline-3">
<h3 id="org8781911">Calls to <code>printf()</code></h3>
<div class="outline-text-3" id="text-org8781911">
<p>
Similarly, there are several blocks that need to be COMPLETE'd to call
<code>printf()</code> to show the results of the ordering. Use the template
provided and adjust the pattern as needed. Note that the <code>printf()</code>
function is special for two reasons.
</p>
<ol class="org-ol">
<li>It is a "variadic" function which can take an arbitrary number of
arguments. This has the special convention that the <code>%eax</code> register
is used during function call setup, set to 0 in the sample code to
indicate no vector registers are used.  This is not essential to
understand so copy the pattern provided.</li>
<li>It is defined in a dynamically linked library and thus uses the
Procedure Linkage Table during its call via the syntax <code>call
   printf@PLT</code>. This may be discussed later in the semester when we
study the linking process.</li>
</ol>
</div>
</div>
<div id="outline-container-org2eafc79" class="outline-3">
<h3 id="org2eafc79"><a id="orgad4c672"></a> Grow/Shrink the Stack</h3>
<div class="outline-text-3" id="text-org2eafc79">
<p>
<b>IMPORTANT</b>: 
</p>
<ul class="org-ul">
<li>The <code>main()</code> function needs space for local variables during its
operation so should create enough space for all locals at the
beginning of its execution.</li>
<li>Before returning <code>main()</code> must restore <code>%rsp</code> through add/pop
instructions to shrink the stack to its original state where <code>%rsp</code>
points to the return address.</li>
</ul>

<p>
Finally, the x86-64 interface dictates that when calling a function
such as in <code>call order2</code> or <code>call order3</code>, the <code>%rsp</code> should be
divisible by 16, referred to at times as "the stack is aligned for
function calls."  This leads to an interesting calculation that the
compiler computes to decide how many bytes to adjust the stack
pointer:
</p>
<ul class="org-ul">
<li>When a function is called, the stack pointer is divisible by 16;
call its value <code>N</code></li>
<li>The <code>call</code> instruction pushes 8 bytes for the return address into
the stack. The stack pointer is now <code>N-8</code> which is NOT divisible
by 16.</li>
<li>Even if a function has no locals, if it in turn calls another
function, the compiler will usually grow the stack by another 8
bytes to re-align the stack. This is done with instructions like
<code>subq $8, %rsp</code> which leaves <code>%rsp</code> with value <code>N-16</code> which is again
divisible by 16.</li>
<li>If space is required for locals like <code>36</code> bytes, then the compiler
must grow by this amount such as via <code>subq $36, %rsp</code> leaving <code>%rsp</code>
at <code>N-8-36 = N-44</code>.  Unfortunately this is not divisible by 16 so
often the compiler "pads" the stack growth to get to alignment:
rather than growing by 36, grow by 40 bytes giving <code>N-40-8 = N-48</code>
which is divisible by 16.</li>
<li>Such "padded" expansion of the stack both (1) creates space for
locals and (2) prepares for a function call later on in execution.</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgd8de10d" class="outline-2">
<h2 id="orgd8de10d"><span class="section-number-2">4</span> QUESTIONS.txt File Contents</h2>
<div class="outline-text-2" id="text-4">
<p>
Below are the contents of the <code>QUESTIONS.txt</code> file for the exercise.
Follow the instructions in it to complete the QUIZ and CODE questions
for the exercise.
</p>

<div class="org-src-container">
<pre class="src src-text">                           _________________

                            LAB07 QUESTIONS
                           _________________


Exercise Instructions
=====================

  Follow the instructions below to experiment with topics related to
  this exercise.
  - For sections marked QUIZ, fill in an (X) for the appropriate
    response in this file. Use the command `make test-quiz' to see if
    all of your answers are correct.
  - For sections marked CODE, complete the code indicated. Use the
    command `make test-code' to check if your code is complete.
  - DO NOT CHANGE any parts of this file except the QUIZ sections as it
    may interfere with the tests otherwise.
  - If your `QUESTIONS.txt' file seems corrupted, restore it by copying
    over the `QUESTIONS.txt.bk' backup file.
  - When you complete the exercises, check your answers with `make test'
    and if all is well, create a zip file with `make zip' and upload it
    to Gradescope. Ensure that the Autograder there reflects your local
    results.
  - IF YOU WORK IN A GROUP only one member needs to submit and then add
    the names of their group.


PROBLEM 1: Binary Debugging of QUOTES
=====================================

  The two files `quote_main.c' and `quote_data.o' can be compiled
  together to form an executable as in the following.
  ,----
  | &gt; gcc quote_main.c quote_data.o
  | &gt; ./a.out
  | Complete this sentence by C++ creator Bjarne Stroustrup:
  | C makes it easy to shoot yourself in the foot; ...
  | 
  | enter a number from 0 to 15: 2
  | 
  | 2: This is why most programmers are such poor dancers.
  | 
  | Have a nice tall glass of ... NOPE.
  `----
  As in a previous exercise, the intention is to use the debugger to
  detect the correct response. In this case however, the correct
  completion is present in `quote_main.c'. However, one must enter a
  number which selects from several responses in an attempt to match the
  correct completion. This causes something to happen in `quote_data.o'
  but no source code is available for it.

  It is possible to "brute force" the solution by trying all
  solutions. That would miss the purpose of the exercise, to gain
  familiarity with how GDB can handle binaries and allow one to resolve
  situations that are not so amenable to brute force.


QUIZ: Basic Binary Analysis
~~~~~~~~~~~~~~~~~~~~~~~~~~~

  Use some utility programs to gather information about the contents of
  the binary file `quote_data.o'.  Review the previous HW if you have
  forgotten what programs do OR brute force this QUIZ question by trying
  the various suggested programs to see what they do.

  For each of the below commands, select the response that best
  describes its effect.


`&gt;&gt; nm quote_data.o'
--------------------

  - ( ) Prints back the name of the file
  - ( ) Displays the assembly code in the TEXT section of the file
  - ( ) Displays the original C code that produced the binary file
  - ( ) Shows the "symbols" (functions and global variables) in the file
  - ( ) Shows the ELF (executable/linkable format) sections are in file
  - ( ) Produces all ASCII strings embedded in the file


`&gt;&gt; objdump -d quote_data.o'
----------------------------

  - ( ) Prints back the name of the file
  - ( ) Displays the assembly code in the TEXT section of the file
  - ( ) Displays the original C code that produced the binary file
  - ( ) Shows the "symbols" (functions and global variables) in the file
  - ( ) Shows the ELF (executable/linkable format) sections are in file
  - ( ) Produces all ASCII strings embedded in the file


`&gt;&gt; readelf -s quote_data.o'
----------------------------

  - ( ) Prints back the name of the file
  - ( ) Displays the assembly code in the TEXT section of the file
  - ( ) Displays the original C code that produced the binary file
  - ( ) Shows the "symbols" (functions and global variables) in the file
  - ( ) Shows the ELF (executable/linkable format) sections are in file
  - ( ) Produces all ASCII strings embedded in the file


`&gt;&gt; strings quote_data.o'
-------------------------

  - ( ) Prints back the name of the file
  - ( ) Displays the assembly code in the TEXT section of the file
  - ( ) Displays the original C code that produced the binary file
  - ( ) Shows the "symbols" (functions and global variables) in the file
  - ( ) Shows the ELF (executable/linkable format) sections are in file
  - ( ) Produces all ASCII strings embedded in the file


QUIZ: GDB with Compiled Functions
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

  The entry point into the assembly code in `quote_data.o' is the
  function `get_it()' which is called from the `main()' function defined
  in `quote_main.c'.

  Which of the following command sequences will start `gdb', set a break
  point on this function, and run to that position?
  ,----
  | ####### A ######
  | &gt;&gt; gdb -tui quote_main
  | (gdb) break get_it
  | (gdb) run
  | 
  | ####### B ######
  | &gt;&gt; gdb -tui quote_data.o
  | (gdb) break get_it
  | (gdb) run main
  | 
  | ####### C ######
  | &gt;&gt; gdb -tui quote_main.c
  | (gdb) break quote_data.o
  | (gdb) run get_it
  | 
  | ####### D ######
  | &gt;&gt; gdb -tui quote_data.o
  | (gdb) break quote_main
  | (gdb) run get_it
  `----

  - ( ) A
  - ( ) B
  - ( ) C
  - ( ) D

  On arriving in the `get_it()' function, what does GDB show initially
  about the function?
  - ( ) It shows the first lines of the C code for that function
  - ( ) It shows the first lines of the Assembly code for that function
  - ( ) It shows the first lines of the Binary Opcodes for that function
  - ( ) It shows "No Source Available" because a certain cruel
    instructor omitted the source code for this binary file.

  Type thefollowing commands below and indicate how this changes the
  display that GDB shows.
  ,----
  | (gdb) layout asm
  | (gdb) layout regs
  | (gdb) run
  | # answer "y" to re-run
  `----
  After these commands GDB shows
  - ( ) The return value of the `get_it()' function and the register it
    is stored in
  - ( ) The values of all registers and the C code of `get_it()'
  - ( ) The values of all registers and the assembly instructions of
    `get_it()' (which are disassembled by GDB)
  - ( ) The values of all registers and the binary and hex encoding of
    the machine instructions for `get_it()'


CODE: Step through the code to find the right Choice
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

  Use the debugger to step through the functions in `quote_data.o' and
  determine the right number to pass in to generate the correct
  response. Place this number in the file `input.txt' which is opened
  and read by `quote_main.c'.

  *NOTE: It is VERY EASY to solve this via brute force* by trying many
  possibilities BUT the point is the gain experience navigating assembly
  code with GDB and understanding compiled code despite lacking its
  original source.

  Here are some tips to help you navigate and understand what you see.
  - Debugger commands for single instructions are preferable when
    working in assembly
     stepi / si  step a single instruction forward, step INTO function calls 
     nexti / ni  step a single instruction forward, step OVER function calls 
    Use plain `step' may step several instructions ahead as GDB guesses
    on how many correspond to a missing line of C.

  - Within the code for `get_it' is a call to `list_get'. This along
    with the fact that earlier listings of global variables had a
    `nodes' name indicates that some sort of linked list is present with
    the choices.

  - The parameters to the function follow the standard convention: 1st
    param in register `%rdi', second in `%rsi', and so forth.  You
    should be able to identify a loop in a critical function in which
    the choices are present.  Use `print' and `x' commands in gdb to
    examine data pointed to be registers to help identify where the
    correct response is located.

  - Often the `testX' instruction is used to determine truthy/falsey
    qualities about a register. This takes several forms that are
    discussed in lecture that you are likely to see:
    - `testl %edx, %edx' may be used to check if `%edx' is 0 or negative
    - `testq %rax, %rax' may be used to check if `%rax' is a `NULL'
      pointer

  - You can examine memory addresses pointed to registers with gdb
    commands like the following. More details are in the GDB Quick
    Guide.
    ,----
    |   (gdb) x/d $rax   # print memory pointed to by rax as a decimal integer
    |   (gdb) x/x $rax   # print memory pointed to by rax as a hex number
    |   (gdb) x/s $rax   # print memory pointed to by rax as a string
    `----

  - You can set breakpoints at individual instructions using the
    following syntax involving the * symbol from the GDB Quick Guide.
     COMMAND             Effect                                                
    ---------------------------------------------------------------------------
     `break *0x1248f2'   Break at specific instruction address                 
     `break *func+24'    Break at instruction with decimal offset from a label 
     `break *func+0x18'  Break at instruction with hex offset from a label

  A good sign that you are absorbing what's going on is if you can come
  back to `quote_main' a day later, and use GDB commands to quickly find
  the correct index again.


PROBLEM 2A: order2
==================

CODE order2_asm.s
~~~~~~~~~~~~~~~~~

  Examine the code in `order2_asm.s' and compare it to `order2_c.c'.
  The only change that is needed is marked as TODO and involves
  extending the stack to make space for local variables that must be in
  memory.  Examine this code and discuss with lab staff how to grow the
  stack to fit the required local variables.


QUIZ Questions
~~~~~~~~~~~~~~

Stack Space
-----------

  To create enough stack space for 2 integers in x86-64, the stack must
  grow by this amount
  - ( ) 2 bytes
  - ( ) 4 bytes
  - ( ) 8 bytes
  - ( ) 16 bytes


Growing the Stack
-----------------

  Which of the following instructions can be used to extend / grow the
  stack?
      Instruction     Description                                                                                
  ---------------------------------------------------------------------------------------------------------------
   A  subq $20, %rsp  extends the stack by 20 bytes, data is uninitialized                                       
   B  pushq %rbx      extends the stack by 8 bytes, 8-byte value in register rbx written at the top of the stack 
   C  pushl $99       extends the stack by 4 bytes, 4-byte value 99 written at the top of the stack              

  - ( ) A only
  - ( ) B only
  - ( ) C only
  - ( ) Any combination of A/B/C: they all grow the stack


Moving data to main memory
--------------------------

  This code appears in `order2_asm.s'.
  ,----
  | 	movl	$17, 0(%rsp)
  | 	movl	$12, 4(%rsp)
  `----
  Which following instructions best describes the sequence
  - ( ) Copies the integer 17 to memory where the stack pointer points
    and the integer 12 to memory 4 bytes about the stack pointer
  - ( ) Copies the value 17 to the stack pointer and then ovewrites that
    with 17+4=21 to the stack pointer which grows the stack
  - ( ) Copies data from memory where the stack pointer points to memory
    address 17 and copies data from 4 bytes above the stack pointer to
    memory address 12
  - ( ) Compares the stack pointer address to 17 and to 12 to determine
    if it should be extended by 4 bytes


PROBLEM 2B: order3
==================

CODE order3_asm.s
~~~~~~~~~~~~~~~~~

  Complete the `main()' function in `order3_asm.s'. This will require
  completing the `TODO' sections in the code to grow the stack, populate
  the stack with local variable values, call several functions with the
  addresses of local variables, and then shrink the stack.

  To help understand the intent of the assembly code, you can analyze
  the equivalent C code in `order3_c.c' which performs the same
  "computation" in C including use of the address-of operator.

  When written correctly, the program should compile and run as follows.
  ,----
  | &gt; make
  | gcc -Wall -Werror -g  -o order3_c order3_c.c
  | gcc -Wall -Werror -g  -o order3_asm order3_asm.s
  | 
  | &gt; ./order3_asm 
  | r t v: 12 13 17
  | q e d:  2  5  9
  | i j k: 24 27 29
  `----

  If mistakes in the stack manipulation are present, this can lead to
  problems late in the program. Valgrind can give a little insight but
  generally these are difficult problems to diagnose so be careful. For
  example, below is a transcript of an incorrectly written version which
  does not allocate the correct amount of space in the stack for the
  local variables.

  ,----
  | &gt; ./order3_asm                     # run broken version
  | r t v: 12 13 17                    # output look okay
  | q e d:  2  5  9
  | i j k: 24 27 29
  | Segmentation fault (core dumped)   # uh-oh...
  | 
  | &gt; valgrind ./order3_asm            # see if valgrind gives any help
  | ==2508984== Memcheck, a memory error detector
  | ==2508984== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
  | ==2508984== Using Valgrind-3.16.1 and LibVEX; rerun with -h for copyright info
  | ==2508984== Command: ./order3_asm
  | ==2508984== 
  | r t v: 12 13 17                    # output OK...
  | q e d:  2  5  9
  | i j k: 24 27 29
  | ==2508984== Jump to the invalid address stated on the next line
  | ==2508984==    at 0x1D: ???
  | ==2508984==    by 0x1FFF000557: ???
  | ==2508984==    by 0x10489EF72: ???
  | ==2508984==    by 0x109138: ??? (in ./order3_asm)
  | ==2508984==    by 0x7FFFFFFFF: ???
  | ==2508984==  Address 0x1d is not stack'd, malloc'd or (recently) free'd
  | ==2508984==                        # ADDRESS 0x1d is really small; probably clobbered 
  | ==2508984==                        # return address during execution, look at stack carefully
  | ==2508984== Process terminating with default action of signal 11 (SIGSEGV): dumping core
  | ==2508984==  Bad permissions for mapped region at address 0x1D
  | ==2508984==    at 0x1D: ???
  | ==2508984==    by 0x1FFF000557: ???
  | ==2508984==    by 0x10489EF72: ???
  | ==2508984==    by 0x109138: ??? (in ./order3_asm)
  | ==2508984==    by 0x7FFFFFFFF: ???
  | ==2508984== 
  | ==2508984== HEAP SUMMARY:
  | ==2508984==     in use at exit: 0 bytes in 0 blocks
  | ==2508984==   total heap usage: 1 allocs, 1 frees, 1,024 bytes allocated
  | ==2508984== 
  | ==2508984== All heap blocks were freed -- no leaks are possible
  | ==2508984== 
  | ==2508984== For lists of detected and suppressed errors, rerun with: -s
  | ==2508984== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)
  | Segmentation fault (core dumped)
  `----


QUIZ Questions
~~~~~~~~~~~~~~

  Answer the following questions on stack manipulation and function
  calls in assembly.


call / callq effects on Stack Pointer
-------------------------------------

  When calling a function via the `call / callq', the stack pointer
  `%rsp' must be "aligned", e.g. divisible by 16.  Assuming this is so,
  how does the `callq' instruction change `%rsp'?

  - ( ) `callq' does not change `%rsp' during at all. `%rsp' is
    therefore still divisible by 16 after the instruction completes.
  - ( ) `callq' will subtract off 8 from the value of `%rsp' and places
    the return address at the top of the stack. `%rsp' is then divisible
    by 8 but not 16.
  - ( ) `callq' will subtract off 16 from the value of `%rsp' and places
    the return address at the top of the stack. `%rsp' is therefore
    still divisible by 16.
  - ( ) `callq' will subtract off 24 from the value of `%rsp' and places
    the return address at the top of the stack. `%rsp' is then divisible
    by 8 but not 16.


Alignment
---------

  If the total size of local variables that need main memory space in a
  function is 36 bytes, one approach is to grow the stack by 36 bytes
  exactly. BUT if functions are to be called during that function, then
  it would be better to...
  - ( ) No special action is required: growing by 36 bytes is a good
    idea as it saves memory while growing larger would waste memory.
  - ( ) No special action is required: the `callq' instruction
    automatically changes `%rsp' to be a value that is divisible by 16.
  - ( ) Grow the stack by 48 bytes; this will mean `%rsp' is aligned at
    a 16-byte boundary and ready for function calls.
  - ( ) Grow the stack by 40 bytes; this + 8 bytes for the return
    address in the stack will mean `%rsp' is aligned at a 16-byte
    boundary and ready for function calls.
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf4c49ad" class="outline-2">
<h2 id="orgf4c49ad"><span class="section-number-2">5</span> Submission</h2>
<div class="outline-text-2" id="text-5">
<p>
Follow the instructions at the end of <a href="lab01.html">Lab01</a> if you need a refresher on
how to upload your completed lab zip to Gradescope.
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<hr/> <i> <a href="https://www.umd.edu/web-accessibility" title="UMD Web Accessibility">Web Accessibility</a> <br/> Author: Chris Kauffman (<a href="mailto:profk@umd.edu">profk@umd.edu</a>) <br/> Date: 2025-10-17 Fri 16:54 <br/> </i>
</div>
</body>
</html>
