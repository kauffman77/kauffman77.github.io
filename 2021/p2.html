<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2022-02-18 Fri 17:48 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>CSCI 2021 Project 2: Bit Ops and Debugging</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Chris Kauffman" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<meta name="viewport" content="width=device-width, maximum-scale=1, minimum-scale=1" />
<style type="text/css">
@media screen {
:root {
--heading-bg-color:#e8c62e;
--heading-fg-color:#7a0019;
}
html {
font-family: serif;
text-align: justify;
}
pre.src, pre.example {
overflow-x: scroll;
}
/* Merge subtitle area with title area */
.subtitle {
text-align: center;
margin-top: -2em;
padding-top: 1em;
padding-bottom: 0.1em;
}
.title, .subtitle {
color: var(--heading-fg-color);
background-color: var(--heading-bg-color);
}
/* Section borders, left section header style */
div.outline-2, #table-of-contents {
background-color: rgb(250,250,250);
border: 0.75em solid var(--heading-bg-color);
border-top: 0em;
padding: 0em .5em .5em .5em; /* top right bottom left */
margin: 1em 0em 1em 0em; /* top right bottom left */
}
div.outline-2 > h2, #table-of-contents > h2 {
background-color: var(--heading-bg-color);
color: var(--heading-fg-color);
font-variant: small-caps;
padding: 0em 0em 0em .5em; /* top right bottom left */
margin: 0em -.5em 0em -.75em; /* top right bottom left */
text-align: left;
}
blockquote {
font-style: italic;
}
td, th {
padding-top: 2px;
padding-bottom: 2px;
}
body {
background-color: #EEE;
}
pre {
}
#content, #preamble, #postamble {
margin-left:300px;
}
.tag {
background-color: inherit; font-family: inherit;
padding: inherit; font-size: 80%; font-weight: inherit;
text-transform: uppercase;
}

.figure p { text-align: inherit; }
figure-number { font-style: italic; }
#table-of-contents {
text-align: left;
position: fixed;
left: 0;
margin: 0 auto;
padding: 0;
width: 300px;
top: 0;
height: 100%;
border: 0;
display: block;
}
#text-table-of-contents {
overflow-y: scroll;
height: 100%;
}
#text-table-of-contents ul {
padding-left: 1em;
margin-left: 0.5em;
}
#table-of-contents > h2 {
padding: 0.1em;
margin: 0;
}
/* adjustments for small screen, toc at top only */
@media (max-width: 800px) { /* landscape for iphone */
html {
-webkit-text-size-adjust: none;  /* prevent scaling of text on mobile */
}
body {
background-color: #EEE;
width:100%;
margin:0 auto;
}
#content, #preamble, #postamble {
margin-left:0;
}
#table-of-contents {
position: static;
left: inherit;
width:inherit;
height: auto;
border-top: 0em;
padding: 0em .5em .5em .5em; /* top right bottom left */
margin: 1em 0em 1em 0em; /* top right bottom left */
border: 0.75em solid #006633;
}
div.outline-2, #table-of-contents {
background-color: rgb(250,250,250);
border: 0.75em solid var(--heading-bg-color);
border-top: 0em;
padding: 0em .5em .5em .5em; /* top right bottom left */
margin: 1em 0em 1em 0em; /* top right bottom left */
}
div.outline-2 > h2, #table-of-contents > h2 {
background-color: var(--heading-bg-color);
color: var(--heading-fg-color);
font-variant: small-caps;
padding: 0em 0em 0em .5em; /* top right bottom left */
margin: 0em -.5em 0em -.75em; /* top right bottom left */
text-align: left;
}
#text-table-of-contents {
overflow-y: visible;
height: inherit;
}
#text-table-of-contents ul {
padding-left: 1em;
margin-left: 0.5em;
}
}
.linenr { font-size: xx-small; }
}

@media print {
html {
font-family: serif;
font-size: 10pt;
text-align: justify;
.linenr { font-size: xx-small; }
}
}
</style>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:e95b018ef3580986a04669f1b5879592219e2a7a&dn=public-domain.txt Public Domain
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="preamble" class="status">
<i>Last Updated: 2022-02-18 Fri 17:48</i>
</div>
<div id="content">
<h1 class="title">CSCI 2021 Project 2: Bit Ops and Debugging</h1>
<ul class="org-ul">
<li><b>Due: 11:59pm Mon 2/28/2021</b></li>
<li><i>Approximately 3.0-4.0% of total grade</i></li>
<li>Submit to <a href="https://www.gradescope.com/"><b>Gradescope</b></a></li>
<li>Projects are <b>individual work</b>: no collaboration with other students
is allowed. Seek help from course staff if you get stuck for too long.</li>
</ul>

<div id="outline-container-orgf5a545a" class="outline-4">
<h4 id="orgf5a545a">CODE/TEST DISTRIBUTION: <a href="p2-code.zip">p2-code.zip</a></h4>
</div>

<div id="outline-container-orgd66b7c8" class="outline-4">
<h4 id="orgd66b7c8">VIDEO OVERVIEW: <a href="https://canvas.umn.edu/courses/290363/pages/week-05-videos">Fri 2/18 Lecture</a></h4>
</div>
<div id="outline-container-org9577528" class="outline-4">
<h4 id="org9577528">CHANGELOG:</h4>
<div class="outline-text-4" id="text-org9577528">
<dl class="org-dl">
<dt>Fri Feb 18 05:44:00 PM CST 2022</dt><dd><p>
Added overview video from Fri 2/18 lecture.
</p>

<p>
Updated documentation associated with <a href="#org2a8ae70"><code>thermo_update()</code></a> to remove
some inconsistencies: this function should always change
<code>THERMO_DISPLAY_PORT</code> and show <code>ERR</code> there if previous functions
return errors.
</p>

<p>
Also fixed a few wrong bit patterns in implementation notes and
diagrams. 
</p></dd>
</dl>
</div>
</div>

<div id="outline-container-org6f0d4f6" class="outline-4">
<h4 id="org6f0d4f6"></h4>
<div class="outline-text-4" id="text-org6f0d4f6">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org8647dc1">1. Introduction</a></li>
<li><a href="#orgac9e1c7">2. Download Code and Setup</a></li>
<li><a href="#orgad0f4f6">3. <b>Problem 1</b>: Thermometer Simulation</a>
<ul>
<li><a href="#org923b880">3.1. Overview</a></li>
<li><a href="#org8f53a5e">3.2. Diagrams of Display</a></li>
<li><a href="#orgf731a80">3.3. <code>thermo_update.c</code>: Updating the Display with User Code</a></li>
<li><a href="#org1382abb">3.4. <code>set_temp_from_ports()</code></a></li>
<li><a href="#org432b4b7">3.5. <code>set_display_from_temp()</code></a></li>
<li><a href="#orgc04edb4">3.6. <code>thermo_update()</code></a></li>
<li><a href="#orged7e69e">3.7. Thermometer Simulator</a></li>
<li><a href="#org5e42a1c">3.8. Sample Runs of <code>thermo_main</code></a></li>
<li><a href="#org9c06602">3.9. Grading Criteria for <code>thermo_update.c</code></a></li>
</ul>
</li>
<li><a href="#org6860ab1">4. <b>Problem 2</b>: Debugging the Puzzlebox</a>
<ul>
<li><a href="#org1df8d2d">4.1. Overview</a></li>
<li><a href="#org339200d">4.2. <code>input.txt</code> Input File</a></li>
<li><a href="#org4c6d2e3">4.3. <code>gdb</code> The GNU Debugger</a></li>
<li><a href="#orgfa1e988">4.4. Typical Cycle</a></li>
<li><a href="#org759236b">4.5. Kinds of Puzzles</a></li>
<li><a href="#org1678ee6">4.6. Tests for <code>puzzlebox.c</code></a></li>
</ul>
</li>
<li><a href="#org1954e2f">5. Assignment Submission</a>
<ul>
<li><a href="#org5897ee6">5.1. Submit to Gradescope</a></li>
<li><a href="#orge22a52e">5.2. Late Policies</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-org8647dc1" class="outline-2">
<h2 id="org8647dc1"><span class="section-number-2">1</span> Introduction</h2>
<div class="outline-text-2" id="text-1">
<p>
<b>Bit-level operations</b> are common in C and systems programming.  This
assignment features a problem in which shifting and bitwise AND/OR-ing
are required to complete the requirements.
</p>

<p>
Debugging is also a critical skill enabled by the <b>debugger</b>. The
second problem in the assignment makes use of the GNU Debugger, <code>gdb</code>,
to work through a puzzle program requiring specific inputs to pass its
"phases".
</p>
</div>

<div id="outline-container-org5f06ba5" class="outline-4">
<h4 id="org5f06ba5">Makefile</h4>
<div class="outline-text-4" id="text-org5f06ba5">
<p>
As in the first assignment, a <code>Makefile</code> is provided as part of this
project. The essential targets pertinent to each problem are described
in those sections. The <code>Makefile</code> is equipped with a brief help
listing:
</p>
<div class="org-src-container">
<pre class="src src-sh">&gt; make help
Typical usage is:
  &gt; make                          # build all programs
  &gt; make clean                    # remove all compiled items
  &gt; make zip                      # create a zip file for submission
  &gt; make prob1                    # built targets associated with problem 1
  &gt; make test-prob1 testnum=5     # run problem 1 test #5 only
  &gt; make test-prob2               # run test for problem 2
  &gt; make test                     # run all tests
</pre>
</div>
</div>
</div>


<div id="outline-container-orgde83b80" class="outline-4">
<h4 id="orgde83b80">Automated Tests</h4>
<div class="outline-text-4" id="text-orgde83b80">
<p>
As in previous assignments, automated tests are provided and
associated with problems. Each problem describes how to run tests
associated with it. Generally this is done as before:
</p>
<div class="org-src-container">
<pre class="src src-sh">&gt;&gt; make test-prob1        # run tests associated with problem 1
gcc -Wall -Wno-comment -Werror -g  -c thermo_main.c
gcc -Wall -Wno-comment -Werror -g  -c thermo_update.c
...
============================================================
== test_thermo_update.org : test_thermo_update and thermo_main tests
== Running 35 / 35 tests
1)  set_temp_from_ports() 0 C               : ok
2)  set_temp_from_ports() 0 F               : ok
...
&gt; make test-prob2         # run "tests" associated with problem 2
... 
&gt; ./puzzlebox input.txt   # same as above: run puzzlebox to test answers
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-orgac9e1c7" class="outline-2">
<h2 id="orgac9e1c7"><span class="section-number-2">2</span> <a id="org7ce753a"></a> Download Code and Setup</h2>
<div class="outline-text-2" id="text-2">
<p>
Download the code pack linked at the top of the page. Unzip this which
will create a project folder. Create new files in this
folder. Ultimately you will re-zip this folder to submit it.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">File</th>
<th scope="col" class="org-left">State</th>
<th scope="col" class="org-left">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>Makefile</code></td>
<td class="org-left">Provided</td>
<td class="org-left">Build file to compile all programs</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><code>thermo.h</code></td>
<td class="org-left">Provided</td>
<td class="org-left">Problem 1 header file</td>
</tr>

<tr>
<td class="org-left"><code>thermo_main.c</code></td>
<td class="org-left">Provided</td>
<td class="org-left">Problem 1 main() function for thermometer simulation</td>
</tr>

<tr>
<td class="org-left"><code>thermo_update.c</code></td>
<td class="org-left">CREATE</td>
<td class="org-left">Create this file and write required function in it to complete Problem 1</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>thermo_examples.sh</code></td>
<td class="org-left">Sample</td>
<td class="org-left">Prints a variety of sample runs of <code>thermo_main</code></td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>test_thermo_update.c</code></td>
<td class="org-left">Testing</td>
<td class="org-left">Problem 1 functions tests for <code>thermo_upate.c</code></td>
</tr>

<tr>
<td class="org-left"><code>test_thermo_update.org</code></td>
<td class="org-left">Testing</td>
<td class="org-left">Problem 1 testing data file</td>
</tr>

<tr>
<td class="org-left"><code>testy</code></td>
<td class="org-left">Testing</td>
<td class="org-left">Problem 1 test running script</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><code>puzzlebox.c</code></td>
<td class="org-left">Provided</td>
<td class="org-left">Problem 2 Debugging problem</td>
</tr>

<tr>
<td class="org-left"><code>input.txt</code></td>
<td class="org-left">EDIT</td>
<td class="org-left">Problem 2 Input for <code>puzzlebox</code>, fill this in</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgad0f4f6" class="outline-2">
<h2 id="orgad0f4f6"><span class="section-number-2">3</span> <b>Problem 1</b>: Thermometer Simulation</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-org923b880" class="outline-3">
<h3 id="org923b880"><span class="section-number-3">3.1</span> Overview</h3>
<div class="outline-text-3" id="text-3-1">
<p>
You are tasked with writing code which will be run by a
microcontroller in a digital thermometer.  The hardware has the
following relevant features.
</p>
<ul class="org-ul">
<li>A temperature sensor whose value can be accessed via a memory mapped
port. In C this is presented as a global variable. Another port
indicates whether the temperature should be displayed in Celsius or
Fahrenheit.</li>
<li>A digital with a port control port; setting certain global variable will
change the temperature display with</li>
<li>User code that you will need to write to update the display based on
the temperature sensor.</li>
<li>A simulator program with <code>Makefile</code> to test your code</li>
</ul>

<p>
<b>All of the code for this problem will be written in the file
<code>thermo_update.c</code> which you will create.</b> Each feature of the
simulated hardware and how it relates to the functions that you will
write in <code>thermo_update.c</code> are discussed in subsequent sections.
</p>
</div>

<div id="outline-container-orgc0688b3" class="outline-4">
<h4 id="orgc0688b3">Temperature Sensor</h4>
<div class="outline-text-4" id="text-orgc0688b3">
<p>
A temperature sensor is attached to the thermometer and can be
accessed via a C global variable. This is declared in the <code>thermo.h</code>
header file as follows.
</p>
<div class="org-src-container">
<pre class="src src-c">extern short THERMO_SENSOR_PORT;
// Set by the sensor to indicate temperature. Value is a positive int
// in units of 0.1 / 32 deg C above -45.0 deg C with a max of +45.0
// deg C. Above the max, the sensor becomes unreliable and below 0
// indicates the senor is failing.
</pre>
</div>
<p>
You do not need to define this variable as it is already there. You do
not need to set this variable as it is automatically changed by the
hardware.  Instead, you will need to access its value to determine
various aspects of the temperature. Note the type which is <code>short</code>:
positive and negatives values are present in it and the variable will
have 16 bits.  The temperature sensor has a limited range and uses
units of 1/32 of a tenth degree above -45.0 deg C.  This leads to
the following equivalences.
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">Sensor</th>
<th scope="col" class="org-right">Celsius</th>
<th scope="col" class="org-left">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">0</td>
<td class="org-right">-45.0</td>
<td class="org-left">Minimum valid sensor value / measurable temp</td>
</tr>

<tr>
<td class="org-right">15</td>
<td class="org-right">-45.0</td>
<td class="org-left">Remainder rounded down</td>
</tr>

<tr>
<td class="org-right">16</td>
<td class="org-right">-44.9</td>
<td class="org-left">Remainder rounded up</td>
</tr>

<tr>
<td class="org-right">32</td>
<td class="org-right">-44.9</td>
<td class="org-left">Exactly one tenth degree above -45.0 deg C</td>
</tr>

<tr>
<td class="org-right">64</td>
<td class="org-right">-44.8</td>
<td class="org-left">Exactly two tenths degree above -45.0 deg C</td>
</tr>

<tr>
<td class="org-right">320</td>
<td class="org-right">-44.0</td>
<td class="org-left">Exactly ten tenths = one degree above -45.0 deg C</td>
</tr>

<tr>
<td class="org-right">3200</td>
<td class="org-right">-35.0</td>
<td class="org-left">Ten degrees above -45.0 C</td>
</tr>

<tr>
<td class="org-right">14080</td>
<td class="org-right">-1.0</td>
<td class="org-left">44.0 degrees above -45.0</td>
</tr>

<tr>
<td class="org-right">14240</td>
<td class="org-right">-0.5</td>
<td class="org-left">44.5 degrees above -45.0</td>
</tr>

<tr>
<td class="org-right">14400</td>
<td class="org-right">0.0</td>
<td class="org-left">45.0 degrees above -45.0</td>
</tr>

<tr>
<td class="org-right">14432</td>
<td class="org-right">0.1</td>
<td class="org-left">45.1 degrees above -45.0</td>
</tr>

<tr>
<td class="org-right">17600</td>
<td class="org-right">10.0</td>
<td class="org-left">degrees above -45.0</td>
</tr>

<tr>
<td class="org-right">28800</td>
<td class="org-right">45.0</td>
<td class="org-left">90.0 degrees above -450.0, MAXIMUM measurable temp</td>
</tr>

<tr>
<td class="org-right">28801</td>
<td class="org-right">ERR</td>
<td class="org-left">Error: sensor out of range</td>
</tr>

<tr>
<td class="org-right">29742</td>
<td class="org-right">ERR</td>
<td class="org-left">Error: sensor out of range</td>
</tr>

<tr>
<td class="org-right">-5</td>
<td class="org-right">ERR</td>
<td class="org-left">Error: sensor malfunction</td>
</tr>

<tr>
<td class="org-right">-1245</td>
<td class="org-right">ERR</td>
<td class="org-left">Error: sensor malfunction</td>
</tr>
</tbody>
</table>

<p>
Notice 32 units of value in the sensor are 0.1 degree Celsius starting
from -45.0 deg C.  The maximum value allowable is 45.0 deg Celsius
which is a sensor value of 28800.
</p>

<p>
Notice also that the temperature should be <b>rounded</b> appropriately: 
</p>
<ul class="org-ul">
<li>The temperature sensor is 1/32 of a tenth degree</li>
<li>A sensor value of 7 rounds down to -45.0 deg C</li>
<li>A sensor value of 15 rounds down to -45.0 deg C</li>
<li>A sensor value of 16 rounds up to -44.9 deg C</li>
<li>A sensor value of 30 rounds up to -44.9 deg C</li>
</ul>
</div>
</div>

<div id="outline-container-org5a66325" class="outline-4">
<h4 id="org5a66325">Temperature Display Mode</h4>
<div class="outline-text-4" id="text-org5a66325">
<p>
Another global variable exposes whether the user has pressed a button
which toggles between displaying temperature in the two most common
scales: Celsius or Fahrenheit. It also exposes whether there are
internal hardware problems in which case the display should show an
error. 
</p>
<div class="org-src-container">
<pre class="src src-c">extern unsigned char THERMO_STATUS_PORT;
// Bit 5 indicates whether display should be in Celsius (0) or
// Fahrenheit (1). This bit is toggled using a button on the
// thermometer but is set using command line args in the simulator.
// 
// Bit 2 is 0 for normal operation or 1 for an ERROR state. When in
// ERROR state, ERR should be shown on the display.
//
// Remaining bits may be 0 or 1 and should be ignored as they are not
// relevant to the display or temperature sensor.
</pre>
</div>
<p>
Both bits 5 and 2 will need to be checked to adjust the display
according to the documentation provided. The remaining bits are
ignored. 
</p>
</div>
</div>

<div id="outline-container-org928bbd2" class="outline-4">
<h4 id="org928bbd2">Display Port</h4>
<div class="outline-text-4" id="text-org928bbd2">
<p>
The thermometer has a digital display which shows the
temperature. This display is controlled by a special memory area
exposed as another global variable in C.
</p>
<div class="org-src-container">
<pre class="src src-c">extern int THERMO_DISPLAY_PORT;
// Controls thermometer display. Readable and writable. Routines
// wishing to change the display should alter the bits of this
// variable.
</pre>
</div>
<p>
While listed as in <code>int</code>, each bit of the is actually tied to part of
the thermometer display screen. When bits are set to 1, part of the
display is lit up while 0 means it is not lit.
</p>
</div>
</div>
</div>

<div id="outline-container-org8f53a5e" class="outline-3">
<h3 id="org8f53a5e"><span class="section-number-3">3.2</span> Diagrams of Display</h3>
<div class="outline-text-3" id="text-3-2">
<p>
The following diagram shows bit patterns for various symbols and how
they correspond to parts of a single digit of the display.  Digits are
displayed by darkening certain <b>bars</b> in the display which correspond
to certain bits in the <code>THERMO_DISPLAY_PORT</code> being set.
</p>

<div class="org-center">

<div id="orgba35b87" class="figure">
<p><img src="digital-digits-top-down.png" alt="digital-digits-top-down.png" style="max-width:100%;" />
</p>
<p><span class="figure-number">Figure 1: </span>Correspondence of bit in <code>THERMO_DISPLAY_PORT</code> to bars in a single digit. The 0th bit controls the top horizontal bar, the 1th bit controls the upper left bar, and so on working generally left to right nad top down. When a bit is 1 (set), the bar will be darkened while when the bit is 0 (clear) the bar will not be displayed (shown as empty).  The combinations of bits shown are the only ones that arise when showing digits for temperatures.</p>
</div>
</div>

<p>
Notice the following.
</p>
<ul class="org-ul">
<li>Bits that are set (equal to 1) will turn on (darken) one <b>bar</b> of
the display digit</li>
<li>Bits that are clear (equal to 0) will turn off one bar of the digit</li>
<li>7 bits are required to control the display of one digit</li>
<li>The bits are arranged with the low order bit (bit 0) for the middle
bar and remaining bits control bars starting from the top going
around clockwise
<ul class="org-ul">
<li>Bit 0 top middle</li>
<li>Bit 1 top left</li>
<li>Bit 2 middle middle</li>
<li>Bit 3 top right</li>
<li>Bit 4 lower left</li>
<li>Bit 5 lower middle</li>
<li>Bit 6 lower right</li>
</ul></li>
<li>The programmer can set bits to any pattern which will be displayed
but only patterns shown correspond to symbols of interest.</li>
</ul>

<p>
Temperature is displayed with several adjacent digits along with a
Celsius/Fahrenheit indicator.  The diagram below shows several full
temperatures along with the bits representing the digits.  The bits
correspond to how the global variable <code>THERMO_DISPLAY_PORT</code> should be
set in order to make the temperature appear as it does.
</p>

<div class="org-center">

<div id="org48febff" class="figure">
<p><img src="digital-thermo-top-down.png" alt="digital-thermo-top-down.png" style="max-width:100%;" />
</p>
<p><span class="figure-number">Figure 2: </span>Full examples of how the 30 bits of the thermometer display state control which parts of the temperature are shown.  Each digit follows the same pattern of bit to bar correspondence as the right-most bits. The lowest order (rightmost) bit controls the top bar of each digit and remaining bits control bars proceeding left-to-right and top down for digit.  The highest order bits (28 and 29) control whether the Celsius or Fahrenheit indicators are shown. Note that both could be shown at the same time or neither shown but this should not be done for actual temperatures.</p>
</div>
</div>

<p>
Notice the following.
</p>
<ul class="org-ul">
<li>You may presume that the <code>THERMO_DISPLAY_PORT</code> is a 32-bit integer.</li>
<li>30 bits are used to control the full temperature display.</li>
<li>Bits 0-6 control the tenths place</li>
<li>Bits 7-13 control the ones place</li>
<li>Bits 14-20 control the tens place</li>
<li>Bits 21-27 control the hundreds place</li>
<li>Bit 28 controls whether degrees Celsius is shown</li>
<li>Bit 29 controls whether degrees Fahrenheit is shown</li>
<li>Bits 30 and 31 are not used and should always be 0.</li>
</ul>
</div>
</div>

<div id="outline-container-orgf731a80" class="outline-3">
<h3 id="orgf731a80"><span class="section-number-3">3.3</span> <code>thermo_update.c</code>: Updating the Display with User Code</h3>
<div class="outline-text-3" id="text-3-3">
<p>
Periodically the microcontroller will run code to adjust the
thermometer display to show the current temperature.  This function is
</p>
<pre class="example">
int thermo_update();
</pre>

<p>
and it will be your job to write this function
</p>

<p>
Rather than write everything that needs to be done within
<code>thermo_update()</code>, several helper functions will be used to divide this
task into several more manageable and testable chunks. These are
</p>
<div class="org-src-container">
<pre class="src src-c">int set_temp_from_ports(temp_t *temp);
int set_display_from_temp(temp_t temp, int *display);
</pre>
</div>
<p>
and are described in subsequent  sections.
</p>

<p>
All these function should be written in <code>thermo_update.c</code>.
</p>
</div>
</div>

<div id="outline-container-org1382abb" class="outline-3">
<h3 id="org1382abb"><span class="section-number-3">3.4</span> <code>set_temp_from_ports()</code></h3>
<div class="outline-text-3" id="text-3-4">
<div class="org-src-container">
<pre class="src src-c">int set_temp_from_ports(temp_t *temp);
// Uses the two global variables (ports) THERMO_SENSOR_PORT and
// THERMO_STATUS_PORT to set the fields of `temp`. If
// THERMO_SENSOR_PORT is negative or above its maximum trusted value
// (associated with +45.0 deg C), this function sets the
// tenths_degrees to 0 and the temp_mode to 3 for `temp` before
// returning 1.  Otherwise, converts the sensor value to deg C using
// shift operations.  Further converts to deg F if indicated from
// THERMO_STATUS_PORT. Sets the fields of `temp` to appropriate
// values. `temp_mode` is 1 for Celsius, and 2 for Fahrenheit. Returns
// 0 on success. This function DOES NOT modify any global variables
// but may access them.
//
// CONSTRAINTS: Uses only integer operations. No floating point
// operations are used as the target machine does not have a FPU. Does
// not use any math functions such as abs().
</pre>
</div>

<p>
This function works with the <code>struct temp_t</code> defined in <code>thermo.h</code> which
has the following layout.
</p>
<div class="org-src-container">
<pre class="src src-c">// Breaks temperature down into constituent parts
typedef struct{
  short tenths_degrees;         // actual temp in tenths of degrees
  char temp_mode;               // 1 for celsius, 2 for fahrenheit, 3 for error
} temp_t;
</pre>
</div>

<p>
The function <code>set_temp_from_ports()</code> will read the global variables
mentioned above and fill in values for the struct fields of the
parameter <code>temp</code>.  To convert the temperature sensor value to a
displayable temperature, one must perform some division and modulo
operations.
</p>
<ol class="org-ol">
<li>"Divide" the sensor value by 32 to get the number of tenths degrees
Celsius above -45.0 deg C. Note the documentation indicates that
this can be done using a <b>shift operation</b> as we are dividing by a
power of two.</li>
<li>Round up if the remainder is high enough. Note that when using
shifting bits to emulate division by a power of 2 <b>bits which are
shifted off would be the remainder</b> and these can be isolated with
appropriate bitwise logical operations to check them.</li>
<li>Account for the offset from -45.0 deg C by subtracting.</li>
<li>Check <code>THERMO_STATUS_PORT</code> to see if conversion to Fahrenheit is
needed.</li>
<li><p>
If conversion is needed, use the formula
</p>
<pre class="example">
farenheit = (celsius * 9) / 5 + 32;
</pre>

<p>
but note that we are working in <b>tenths degrees</b> so adjustments may
be needed. No rounding is done when converting from Celsius to
Fahrenheit. Use of this conversion and lack of rounding means that,
despite the high-resolution temperature, degrees in Fahrenheit only
appear in increments of about 0.2 deg F giving it less resolution
than the Celsius.  This is the price of a simpler
implementation. Continue to abide by the constraint: <b>do not use
floating point operations.</b> Simple microprocessors cannot perform
floating point operations as they lack a <i>Floating Point Unit
(FPU)</i>.
</p></li>
</ol>
</div>
</div>

<div id="outline-container-org432b4b7" class="outline-3">
<h3 id="org432b4b7"><span class="section-number-3">3.5</span> <code>set_display_from_temp()</code></h3>
<div class="outline-text-3" id="text-3-5">
<div class="org-src-container">
<pre class="src src-c">int set_display_from_temp(temp_t temp, int *display);
// Alters the bits of integer pointed to by display to reflect the
// temperature in struct arg temp.  If temp has a temperature value
// that is below minimum or above maximum temperature allowable or if
// the temp_mode is not Celsius or Fahrenheit, sets the display to
// read "ERR" and returns 1. Otherwise, calculates each digit of the
// temperature and changes bits at display to show the temperature
// according to the pattern for each digit.  This function DOES NOT
// modify any global variables except if `display` points at one.
// 
// CONSTRAINTS: Uses only integer operations. No floating point
// operations are used as the target machine does not have a FPU. Does
// not use any math functions such as abs().
</pre>
</div>

<p>
This function sets the bits in the integer pointed to by <code>display</code>
which. In some cases <code>display</code> may point at <code>THERMO_DISPLAY_PORT</code>
which will adjust the display itself, but it is useful in testing to
change other integers, thus the pointer argument.
</p>

<p>
To properly set the display bits, <code>set_display_from_temp()</code> will need
to do bit shifting along with bitwise operations to construct the
correct bit pattern for the thermometer display.
</p>

<p>
A good trick to use is to create a series of bit patterns that
correspond to the various digits. For example, according to the
diagrams above, the bit pattern for <code>9</code> is <code>0b1011111</code>.  If a <code>9</code>
should appear on the display somewhere, this bit pattern should be
shifted and combined with the existing bits in <code>display</code> so that a 9
will show.  Creating similar constant <i>mask</i> patterns for each digit,
the minus sign, and the position of the Celsius/Fahrenheit indicator
is a good way to make this problem manageable.
</p>

<p>
A detailed explanation of one approach to the problem follows.
</p>
<ul class="org-ul">
<li>The <code>display</code> parameter may point to an integer with arbitrary bits
in it. Work around this either by (A) creating a local <code>int</code>
initialized to 0, arranging the display, and then deref-setting
<code>display</code> to that integer OR (B) deref-setting <code>display</code> to 0 before
altering it.</li>
<li>Create an array of bit masks for each of the digits 0-9. The 0th
element of the array contains a bit mask like <code>0b1111011</code> which
represents the bits that should be set for a 0 digit, the 1th
element of this array has a mask like <code>0b1001000</code> which are the bits
to be set for a 1. There should be ten entries in this array in
indices 0-9. The array can be a global variable or an array local to
some function.</li>
<li>Use modulo to determine the integer value for the tens, ones, and
tenths digits for the temperature. Call these variables something
like <code>temp_hundreds</code>, <code>temp_tens</code> and so on. Each variable should be
in the range 0-9.</li>
<li>Start with an integer variable of 0 (all 0 bits).</li>
<li>Use <code>temp_tens</code> to index into your array of masks to determine the
bits that should be set for it. Combine the state variable with
<code>temp_ones</code> mask.</li>
<li>Combining bits here is a logical operation of setting all bits that
are one in the mask to 1 in the display variable.</li>
<li>Use <code>temp_hundreds</code> to index into your array of masks for the right mask
for that digit. The bits corresponding to the hundreds place of the
temperature is shifted to the left by 21 bits so shift the mask to the
left and combine it with the state variable.</li>
<li>Repeat this process for the tens digit (shifted by 14) ones, and
tenths digits.</li>
<li>Early in the function, check that the ranges for the <code>tenths_degrees</code>
and <code>temp_mode</code> fields are in range. If they are note, populate
<code>display</code> with the <code>ERR</code> message and return 1.</li>
<li><p>
There are several special cases to consider: leading 0's should be
blanks so nothing should be drawn. Also, the negative sign should be
positioned immediately to the left of the first non-blank digit. A
couple examples of how this looks are below with the <b>underscore
representing a blank space</b>.
</p>
<div class="org-src-container">
<pre class="src src-text">RIGHT        WRONG      
_22.4 deg C   022.4 deg C
_-1.5 deg C   -01.5 deg C  
_-2.7 deg C   -_2.7 deg C
ERR._ _____   ERR.0 deg C
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgc04edb4" class="outline-3">
<h3 id="orgc04edb4"><span class="section-number-3">3.6</span> <a id="org2a8ae70"></a> <code>thermo_update()</code></h3>
<div class="outline-text-3" id="text-3-6">
<div class="org-src-container">
<pre class="src src-c">int thermo_update();
// Called to update the thermometer display.  Makes use of
// set_temp_from_ports() and set_display_from_temp() to access
// temperature sensor then set the display. Always sets the display
// even if the other functions returns an error. Returns 0 if both
// functions complete successfully and return 0. Returns 1 if either
// function or both return a non-zero values.
// 
// CONSTRAINT: Does not allocate any heap memory as malloc() is NOT
// available on the target microcontroller.  Uses stack and global
// memory only.
</pre>
</div>
<p>
<i>NOTE: This documentation was updated to remove some inconsistencies
after the initial release of the project.</i>
</p>

<p>
This function makes use of the previous two functions and the global
variables that correspond to the hardware to alter the display. It
should be relatively short by making use of the previous functions.
</p>
</div>
</div>

<div id="outline-container-orged7e69e" class="outline-3">
<h3 id="orged7e69e"><span class="section-number-3">3.7</span> Thermometer Simulator</h3>
<div class="outline-text-3" id="text-3-7">
<p>
While we do not have actual hardware with the features mentioned, a
simulator for the system is in the provided file <code>thermo_main.c</code>.  You
do not need to modify or understand code in either file to complete
the assignment though it will certainly expand you C skills to spend
some time examining them.
</p>

<p>
The <code>main()</code> function in <code>thermo_main.c</code> accepts two command line
arguments which are the value for the temperature sensor and whether
the thermometer is in Celsius or Fahrenheit mode. It will call your
functions for this problem and show results for it.  You are
encouraged to use this function to test your code incrementally
</p>
<ul class="org-ul">
<li>Examine whether <code>set_temp_from_ports()</code> is correct based on the first
part of output in <code>thermo_main.c</code></li>
<li>Once <code>set_temp_from_ports()</code> is complete, examine whether the output
of <code>set_display_from_temp()</code> is correct based on the latter part
of the output.</li>
<li>Once both these functions are correct, examine whether
<code>thermo_update()</code> is correct based on the final part of the output
of the <code>main()</code> function.</li>
</ul>

<p>
Note that there are a variety of functions in the <code>thermo_main.c</code>
which are used to simulate how the thermometer will display. This is
also where the global variables like <code>THERMO_DISPLAY_PORT</code> are
defined.  However, you do not need to modify or even understand the
code; it is only used to show how the display would look when the
<code>THERMO_DISPLAY_PORT</code> bits are set.
</p>
</div>
</div>

<div id="outline-container-org5e42a1c" class="outline-3">
<h3 id="org5e42a1c"><span class="section-number-3">3.8</span> Sample Runs of <code>thermo_main</code></h3>
<div class="outline-text-3" id="text-3-8">
<p>
Below are samples generated by compiling and running the <code>main()</code>
function in the <code>thermo_main.c</code> file.  The code is compiled by using
the provided <code>Makefile</code> to create the <code>thermo_main</code> program.  It
compiles the the functions you write in the file <code>thermo_update.c</code> and
combines them with functions in <code>thermo_main.c</code>.
</p>

<pre class="example" id="org7528599">

==========CELSIUS FOR 0==========
&gt; ./thermo_main 0 C
THERMO_SENSOR_PORT set to: 0
THERMO_STAUS_PORT set to: 1000 1000
index:                       4    0
result = set_temp_from_ports(&amp;temp);
result: 0
temp = {
  .tenths_degrees = -450
  .temp_mode      = 1
}
Simulated temp is: -45.0 deg F
result = set_display_from_temp(temp, &amp;display);
result: 0
display is
bits:  00 01 0000100 1001110 1100111 1111011
index: 30 28      21      14       7       0

result = thermo_update();
result: 0
THERMO_DISPLAY_PORT is
bits:  00 01 0000100 1001110 1100111 1111011
index: 30 28      21      14       7       0

Thermometer Display:
           ~~   ~~   
     |  | |    |  | o
 ~~   ~~   ~~        C
        |    | |  |  
           ~~ o ~~   


==========FAHRENHEIT FOR 0==========
&gt; ./thermo_main 0 F
THERMO_SENSOR_PORT set to: 0
THERMO_STAUS_PORT set to: 1010 1000
index:                       4    0
result = set_temp_from_ports(&amp;temp);
result: 0
temp = {
  .tenths_degrees = -490
  .temp_mode      = 2
}
Simulated temp is: -49.0 deg C
result = set_display_from_temp(temp, &amp;display);
result: 0
display is
bits:  00 10 0000100 1001110 1101111 1111011
index: 30 28      21      14       7       0

result = thermo_update();
result: 0
THERMO_DISPLAY_PORT is
bits:  00 10 0000100 1001110 1101111 1111011
index: 30 28      21      14       7       0

Thermometer Display:
           ~~   ~~   
     |  | |  | |  |  
 ~~   ~~   ~~       o
        |    | |  |  F
           ~~ o ~~   


==========CELSIUS FOR 10==========
&gt; ./thermo_main 10 C
THERMO_SENSOR_PORT set to: 10
THERMO_STAUS_PORT set to: 1000 1000
index:                       4    0
result = set_temp_from_ports(&amp;temp);
result: 0
temp = {
  .tenths_degrees = -450
  .temp_mode      = 1
}
Simulated temp is: -45.0 deg F
result = set_display_from_temp(temp, &amp;display);
result: 0
display is
bits:  00 01 0000100 1001110 1100111 1111011
index: 30 28      21      14       7       0

result = thermo_update();
result: 0
THERMO_DISPLAY_PORT is
bits:  00 01 0000100 1001110 1100111 1111011
index: 30 28      21      14       7       0

Thermometer Display:
           ~~   ~~   
     |  | |    |  | o
 ~~   ~~   ~~        C
        |    | |  |  
           ~~ o ~~   


==========FAHRENHEIT FOR 10==========
&gt; ./thermo_main 10 F
THERMO_SENSOR_PORT set to: 10
THERMO_STAUS_PORT set to: 1010 1000
index:                       4    0
result = set_temp_from_ports(&amp;temp);
result: 0
temp = {
  .tenths_degrees = -490
  .temp_mode      = 2
}
Simulated temp is: -49.0 deg C
result = set_display_from_temp(temp, &amp;display);
result: 0
display is
bits:  00 10 0000100 1001110 1101111 1111011
index: 30 28      21      14       7       0

result = thermo_update();
result: 0
THERMO_DISPLAY_PORT is
bits:  00 10 0000100 1001110 1101111 1111011
index: 30 28      21      14       7       0

Thermometer Display:
           ~~   ~~   
     |  | |  | |  |  
 ~~   ~~   ~~       o
        |    | |  |  F
           ~~ o ~~   


==========CELSIUS FOR 20==========
&gt; ./thermo_main 20 C
THERMO_SENSOR_PORT set to: 20
THERMO_STAUS_PORT set to: 1000 1000
index:                       4    0
result = set_temp_from_ports(&amp;temp);
result: 0
temp = {
  .tenths_degrees = -449
  .temp_mode      = 1
}
Simulated temp is: -44.9 deg F
result = set_display_from_temp(temp, &amp;display);
result: 0
display is
bits:  00 01 0000100 1001110 1001110 1101111
index: 30 28      21      14       7       0

result = thermo_update();
result: 0
THERMO_DISPLAY_PORT is
bits:  00 01 0000100 1001110 1001110 1101111
index: 30 28      21      14       7       0

Thermometer Display:
                ~~   
     |  | |  | |  | o
 ~~   ~~   ~~   ~~   C
        |    |    |  
              o ~~   


==========FAHRENHEIT FOR 20==========
&gt; ./thermo_main 20 F
THERMO_SENSOR_PORT set to: 20
THERMO_STAUS_PORT set to: 1010 1000
index:                       4    0
result = set_temp_from_ports(&amp;temp);
result: 0
temp = {
  .tenths_degrees = -488
  .temp_mode      = 2
}
Simulated temp is: -48.8 deg C
result = set_display_from_temp(temp, &amp;display);
result: 0
display is
bits:  00 10 0000100 1001110 1111111 1111111
index: 30 28      21      14       7       0

result = thermo_update();
result: 0
THERMO_DISPLAY_PORT is
bits:  00 10 0000100 1001110 1111111 1111111
index: 30 28      21      14       7       0

Thermometer Display:
           ~~   ~~   
     |  | |  | |  |  
 ~~   ~~   ~~   ~~  o
        | |  | |  |  F
           ~~ o ~~   


==========CELSIUS FOR 34==========
&gt; ./thermo_main 34 C
THERMO_SENSOR_PORT set to: 34
THERMO_STAUS_PORT set to: 1000 1000
index:                       4    0
result = set_temp_from_ports(&amp;temp);
result: 0
temp = {
  .tenths_degrees = -449
  .temp_mode      = 1
}
Simulated temp is: -44.9 deg F
result = set_display_from_temp(temp, &amp;display);
result: 0
display is
bits:  00 01 0000100 1001110 1001110 1101111
index: 30 28      21      14       7       0

result = thermo_update();
result: 0
THERMO_DISPLAY_PORT is
bits:  00 01 0000100 1001110 1001110 1101111
index: 30 28      21      14       7       0

Thermometer Display:
                ~~   
     |  | |  | |  | o
 ~~   ~~   ~~   ~~   C
        |    |    |  
              o ~~   


==========FAHRENHEIT FOR 34==========
&gt; ./thermo_main 34 F
THERMO_SENSOR_PORT set to: 34
THERMO_STAUS_PORT set to: 1010 1000
index:                       4    0
result = set_temp_from_ports(&amp;temp);
result: 0
temp = {
  .tenths_degrees = -488
  .temp_mode      = 2
}
Simulated temp is: -48.8 deg C
result = set_display_from_temp(temp, &amp;display);
result: 0
display is
bits:  00 10 0000100 1001110 1111111 1111111
index: 30 28      21      14       7       0

result = thermo_update();
result: 0
THERMO_DISPLAY_PORT is
bits:  00 10 0000100 1001110 1111111 1111111
index: 30 28      21      14       7       0

Thermometer Display:
           ~~   ~~   
     |  | |  | |  |  
 ~~   ~~   ~~   ~~  o
        | |  | |  |  F
           ~~ o ~~   


==========CELSIUS FOR 160==========
&gt; ./thermo_main 160 C
THERMO_SENSOR_PORT set to: 160
THERMO_STAUS_PORT set to: 1000 1000
index:                       4    0
result = set_temp_from_ports(&amp;temp);
result: 0
temp = {
  .tenths_degrees = -445
  .temp_mode      = 1
}
Simulated temp is: -44.5 deg F
result = set_display_from_temp(temp, &amp;display);
result: 0
display is
bits:  00 01 0000100 1001110 1001110 1100111
index: 30 28      21      14       7       0

result = thermo_update();
result: 0
THERMO_DISPLAY_PORT is
bits:  00 01 0000100 1001110 1001110 1100111
index: 30 28      21      14       7       0

Thermometer Display:
                ~~   
     |  | |  | |    o
 ~~   ~~   ~~   ~~   C
        |    |    |  
              o ~~   


==========FAHRENHEIT FOR 160==========
&gt; ./thermo_main 160 F
THERMO_SENSOR_PORT set to: 160
THERMO_STAUS_PORT set to: 1010 1000
index:                       4    0
result = set_temp_from_ports(&amp;temp);
result: 0
temp = {
  .tenths_degrees = -481
  .temp_mode      = 2
}
Simulated temp is: -48.1 deg C
result = set_display_from_temp(temp, &amp;display);
result: 0
display is
bits:  00 10 0000100 1001110 1111111 1001000
index: 30 28      21      14       7       0

result = thermo_update();
result: 0
THERMO_DISPLAY_PORT is
bits:  00 10 0000100 1001110 1111111 1001000
index: 30 28      21      14       7       0

Thermometer Display:
           ~~        
     |  | |  |    |  
 ~~   ~~   ~~       o
        | |  |    |  F
           ~~ o      


==========CELSIUS FOR 1607==========
&gt; ./thermo_main 1607 C
THERMO_SENSOR_PORT set to: 1607
THERMO_STAUS_PORT set to: 1000 1000
index:                       4    0
result = set_temp_from_ports(&amp;temp);
result: 0
temp = {
  .tenths_degrees = -400
  .temp_mode      = 1
}
Simulated temp is: -40.0 deg F
result = set_display_from_temp(temp, &amp;display);
result: 0
display is
bits:  00 01 0000100 1001110 1111011 1111011
index: 30 28      21      14       7       0

result = thermo_update();
result: 0
THERMO_DISPLAY_PORT is
bits:  00 01 0000100 1001110 1111011 1111011
index: 30 28      21      14       7       0

Thermometer Display:
           ~~   ~~   
     |  | |  | |  | o
 ~~   ~~             C
        | |  | |  |  
           ~~ o ~~   


==========FAHRENHEIT FOR 1607==========
&gt; ./thermo_main 1607 F
THERMO_SENSOR_PORT set to: 1607
THERMO_STAUS_PORT set to: 1010 1000
index:                       4    0
result = set_temp_from_ports(&amp;temp);
result: 0
temp = {
  .tenths_degrees = -400
  .temp_mode      = 2
}
Simulated temp is: -40.0 deg C
result = set_display_from_temp(temp, &amp;display);
result: 0
display is
bits:  00 10 0000100 1001110 1111011 1111011
index: 30 28      21      14       7       0

result = thermo_update();
result: 0
THERMO_DISPLAY_PORT is
bits:  00 10 0000100 1001110 1111011 1111011
index: 30 28      21      14       7       0

Thermometer Display:
           ~~   ~~   
     |  | |  | |  |  
 ~~   ~~            o
        | |  | |  |  F
           ~~ o ~~   


==========CELSIUS FOR 12689==========
&gt; ./thermo_main 12689 C
THERMO_SENSOR_PORT set to: 12689
THERMO_STAUS_PORT set to: 1000 1000
index:                       4    0
result = set_temp_from_ports(&amp;temp);
result: 0
temp = {
  .tenths_degrees = -53
  .temp_mode      = 1
}
Simulated temp is: -5.3 deg F
result = set_display_from_temp(temp, &amp;display);
result: 0
display is
bits:  00 01 0000000 0000100 1100111 1101101
index: 30 28      21      14       7       0

result = thermo_update();
result: 0
THERMO_DISPLAY_PORT is
bits:  00 01 0000000 0000100 1100111 1101101
index: 30 28      21      14       7       0

Thermometer Display:
           ~~   ~~   
          |       | o
      ~~   ~~   ~~   C
             |    |  
           ~~ o ~~   


==========FAHRENHEIT FOR 12689==========
&gt; ./thermo_main 12689 F
THERMO_SENSOR_PORT set to: 12689
THERMO_STAUS_PORT set to: 1010 1000
index:                       4    0
result = set_temp_from_ports(&amp;temp);
result: 0
temp = {
  .tenths_degrees = 225
  .temp_mode      = 2
}
Simulated temp is: 22.5 deg C
result = set_display_from_temp(temp, &amp;display);
result: 0
display is
bits:  00 10 0000000 0111101 0111101 1100111
index: 30 28      21      14       7       0

result = thermo_update();
result: 0
THERMO_DISPLAY_PORT is
bits:  00 10 0000000 0111101 0111101 1100111
index: 30 28      21      14       7       0

Thermometer Display:
      ~~   ~~   ~~   
        |    | |     
      ~~   ~~   ~~  o
     |    |       |  F
      ~~   ~~ o ~~   


==========CELSIUS FOR 15744==========
&gt; ./thermo_main 15744 C
THERMO_SENSOR_PORT set to: 15744
THERMO_STAUS_PORT set to: 1000 1000
index:                       4    0
result = set_temp_from_ports(&amp;temp);
result: 0
temp = {
  .tenths_degrees = 42
  .temp_mode      = 1
}
Simulated temp is: 4.2 deg F
result = set_display_from_temp(temp, &amp;display);
result: 0
display is
bits:  00 01 0000000 0000000 1001110 0111101
index: 30 28      21      14       7       0

result = thermo_update();
result: 0
THERMO_DISPLAY_PORT is
bits:  00 01 0000000 0000000 1001110 0111101
index: 30 28      21      14       7       0

Thermometer Display:
                ~~   
          |  |    | o
           ~~   ~~   C
             | |     
              o ~~   


==========FAHRENHEIT FOR 15744==========
&gt; ./thermo_main 15744 F
THERMO_SENSOR_PORT set to: 15744
THERMO_STAUS_PORT set to: 1010 1000
index:                       4    0
result = set_temp_from_ports(&amp;temp);
result: 0
temp = {
  .tenths_degrees = 395
  .temp_mode      = 2
}
Simulated temp is: 39.5 deg C
result = set_display_from_temp(temp, &amp;display);
result: 0
display is
bits:  00 10 0000000 1101101 1101111 1100111
index: 30 28      21      14       7       0

result = thermo_update();
result: 0
THERMO_DISPLAY_PORT is
bits:  00 10 0000000 1101101 1101111 1100111
index: 30 28      21      14       7       0

Thermometer Display:
      ~~   ~~   ~~   
        | |  | |     
      ~~   ~~   ~~  o
        |    |    |  F
      ~~   ~~ o ~~   


==========CELSIUS FOR 20448==========
&gt; ./thermo_main 20448 C
THERMO_SENSOR_PORT set to: 20448
THERMO_STAUS_PORT set to: 1000 1000
index:                       4    0
result = set_temp_from_ports(&amp;temp);
result: 0
temp = {
  .tenths_degrees = 189
  .temp_mode      = 1
}
Simulated temp is: 18.9 deg F
result = set_display_from_temp(temp, &amp;display);
result: 0
display is
bits:  00 01 0000000 1001000 1111111 1101111
index: 30 28      21      14       7       0

result = thermo_update();
result: 0
THERMO_DISPLAY_PORT is
bits:  00 01 0000000 1001000 1111111 1101111
index: 30 28      21      14       7       0

Thermometer Display:
           ~~   ~~   
        | |  | |  | o
           ~~   ~~   C
        | |  |    |  
           ~~ o ~~   


==========FAHRENHEIT FOR 20448==========
&gt; ./thermo_main 20448 F
THERMO_SENSOR_PORT set to: 20448
THERMO_STAUS_PORT set to: 1010 1000
index:                       4    0
result = set_temp_from_ports(&amp;temp);
result: 0
temp = {
  .tenths_degrees = 660
  .temp_mode      = 2
}
Simulated temp is: 66.0 deg C
result = set_display_from_temp(temp, &amp;display);
result: 0
display is
bits:  00 10 0000000 1110111 1110111 1111011
index: 30 28      21      14       7       0

result = thermo_update();
result: 0
THERMO_DISPLAY_PORT is
bits:  00 10 0000000 1110111 1110111 1111011
index: 30 28      21      14       7       0

Thermometer Display:
      ~~   ~~   ~~   
     |    |    |  |  
      ~~   ~~       o
     |  | |  | |  |  F
      ~~   ~~ o ~~   


==========CELSIUS FOR 28544==========
&gt; ./thermo_main 28544 C
THERMO_SENSOR_PORT set to: 28544
THERMO_STAUS_PORT set to: 1000 1000
index:                       4    0
result = set_temp_from_ports(&amp;temp);
result: 0
temp = {
  .tenths_degrees = 442
  .temp_mode      = 1
}
Simulated temp is: 44.2 deg F
result = set_display_from_temp(temp, &amp;display);
result: 0
display is
bits:  00 01 0000000 1001110 1001110 0111101
index: 30 28      21      14       7       0

result = thermo_update();
result: 0
THERMO_DISPLAY_PORT is
bits:  00 01 0000000 1001110 1001110 0111101
index: 30 28      21      14       7       0

Thermometer Display:
                ~~   
     |  | |  |    | o
      ~~   ~~   ~~   C
        |    | |     
              o ~~   


==========FAHRENHEIT FOR 28544==========
&gt; ./thermo_main 28544 F
THERMO_SENSOR_PORT set to: 28544
THERMO_STAUS_PORT set to: 1010 1000
index:                       4    0
result = set_temp_from_ports(&amp;temp);
result: 0
temp = {
  .tenths_degrees = 1115
  .temp_mode      = 2
}
Simulated temp is: 111.5 deg C
result = set_display_from_temp(temp, &amp;display);
result: 0
display is
bits:  00 10 1001000 1001000 1001000 1100111
index: 30 28      21      14       7       0

result = thermo_update();
result: 0
THERMO_DISPLAY_PORT is
bits:  00 10 1001000 1001000 1001000 1100111
index: 30 28      21      14       7       0

Thermometer Display:
                ~~   
   |    |    | |     
                ~~  o
   |    |    |    |  F
              o ~~   


</pre>
</div>
</div>

<div id="outline-container-org9c06602" class="outline-3 grading 50">
<h3 id="org9c06602"><span class="section-number-3">3.9</span> Grading Criteria for <code>thermo_update.c</code>&#xa0;&#xa0;&#xa0;<span class="tag"><span class="grading">grading</span>&#xa0;<span class="50">50</span></span></h3>
<div class="outline-text-3" id="text-3-9">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">Weight</th>
<th scope="col" class="org-left">Criteria</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">&#xa0;</td>
<td class="org-left">AUOTMATED TESTS</td>
</tr>

<tr>
<td class="org-right">35</td>
<td class="org-left"><code>make test-prob1</code> runs 35 tests for correctness</td>
</tr>

<tr>
<td class="org-right">&#xa0;</td>
<td class="org-left"><code>test_thermo_update.c</code> provides 30 tests for functions in <code>thermo_update.c</code></td>
</tr>

<tr>
<td class="org-right">&#xa0;</td>
<td class="org-left">There are also tests of <code>thermo_main</code> which uses functions from <code>thermo_update.c</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-right">&#xa0;</td>
<td class="org-left">MANUAL INSPECTION</td>
</tr>

<tr>
<td class="org-right">5</td>
<td class="org-left"><code>set_temp_from_ports()</code></td>
</tr>

<tr>
<td class="org-right">&#xa0;</td>
<td class="org-left">Use of a bitwise operations (shifts, and, etc.) to convert the sensor value to temperature</td>
</tr>

<tr>
<td class="org-right">&#xa0;</td>
<td class="org-left">Section to round temperature correctly which uses bitwise operations to calculate remainders.</td>
</tr>

<tr>
<td class="org-right">&#xa0;</td>
<td class="org-left">Clear effort to do error checking of out of bounds values.</td>
</tr>

<tr>
<td class="org-right">&#xa0;</td>
<td class="org-left">Clear flow to how each field of <code>temp</code> is calculated.</td>
</tr>

<tr>
<td class="org-right">&#xa0;</td>
<td class="org-left">Correctly setting fields of <code>temp</code> via pointer dereference or arrow operator.</td>
</tr>

<tr>
<td class="org-right">&#xa0;</td>
<td class="org-left">No use of floating point operations as per the listed constraint</td>
</tr>

<tr>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-right">5</td>
<td class="org-left"><code>set_display_from_temp()</code></td>
</tr>

<tr>
<td class="org-right">&#xa0;</td>
<td class="org-left">Clear effort to do error checking for out of bounds values in <code>temp</code> parameter</td>
</tr>

<tr>
<td class="org-right">&#xa0;</td>
<td class="org-left">Presence of an error case that sets up the <code>ERR</code> message on the screen.</td>
</tr>

<tr>
<td class="org-right">&#xa0;</td>
<td class="org-left">Clear code that calculates digits to be displayed</td>
</tr>

<tr>
<td class="org-right">&#xa0;</td>
<td class="org-left">Use of bit masks corresponding to digits to be displayed</td>
</tr>

<tr>
<td class="org-right">&#xa0;</td>
<td class="org-left">Use of bitwise operators to shift bits appropriately</td>
</tr>

<tr>
<td class="org-right">&#xa0;</td>
<td class="org-left">Use of bitwise operators to combine shifted digit bits</td>
</tr>

<tr>
<td class="org-right">&#xa0;</td>
<td class="org-left">Clear dereference/set of the integer pointed to by the <code>display</code> parameter</td>
</tr>

<tr>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-right">5</td>
<td class="org-left"><code>thermo_update()</code></td>
</tr>

<tr>
<td class="org-right">&#xa0;</td>
<td class="org-left">Use of the global variables like <code>THERMO_DISPLAY_PORT</code></td>
</tr>

<tr>
<td class="org-right">&#xa0;</td>
<td class="org-left">Does not re-define these variables</td>
</tr>

<tr>
<td class="org-right">&#xa0;</td>
<td class="org-left">Use of previous two functions</td>
</tr>

<tr>
<td class="org-right">&#xa0;</td>
<td class="org-left">Correctly captures return values of previous functions and passes errors up</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


<div id="outline-container-org6860ab1" class="outline-2">
<h2 id="org6860ab1"><span class="section-number-2">4</span> <b>Problem 2</b>: Debugging the Puzzlebox</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org1df8d2d" class="outline-3">
<h3 id="org1df8d2d"><span class="section-number-3">4.1</span> Overview</h3>
<div class="outline-text-3" id="text-4-1">
<p>
The file <code>puzzlebox.c</code> contains source code that reads inputs from a
file named on the command line. If the inputs are correct, points are
awarded. If inputs are incorrect, error messages are printed.  
</p>

<p>
The <code>puzzlebox</code> is arranged into a series of <i>phases</i> each of which
has some points associated with it.
</p>
<ul class="org-ul">
<li>Not all phases must be completed to get full credit but the phases
must done in order.</li>
<li>Each phase reads inputs from the file provided on the command line
and performs calculations on them to see if they are "correct"
according to various criteria</li>
<li>The very first input is your <b>internet ID</b> like <code>kauf0095</code> (first
part of your UMN email address).  This input is used to add
randomness to the puzzle so that <b>your answers will be different
from most other students</b>. You must you use your own internet ID.</li>
</ul>

<p>
<b>The purpose of this problem is get familiar with using a debugger.</b>
This is a powerful tool that pauses programs, allows internal values
to be printed and code to be stepped through line by line.  It is
nearly essential to use as the code in <code>puzzlebox</code> is intentionally
convoluted in places. Being able to pause execution and print values
at various points make it <b>much easier</b> to solve the puzzles.
</p>
</div>
</div>

<div id="outline-container-org339200d" class="outline-3">
<h3 id="org339200d"><span class="section-number-3">4.2</span> <code>input.txt</code> Input File</h3>
<div class="outline-text-3" id="text-4-2">
<p>
Name your input file <code>input.txt</code> and put your internet ID in it along
with some numbers like <code>1 2 3</code>. Then compile and run the <code>puzzlebox</code>
program on it.
</p>
<div class="org-src-container">
<pre class="src src-sh">&gt; make puzzlebox                             # compile puzzlebox
gcc -Wall -g -c puzzlebox.c
gcc -Wall -g -o puzzlebox puzzlebox.o

&gt; cat input.txt                              # show contents of input.txt
kauf0095 1 2 3

&gt; ./puzzlebox input.txt                      # run puzzlebox with input.txt
UserID 'kauf0095' accepted: hash value = 1397510491
PHASE 1: A puzzle you say? Challenge accepted!

Ah ah ah, you didn't say the magic word...
Failure: Double debugger burger, order up!

  * Score: 0 / 50 pts *
</pre>
</div>

<p>
This is automated with the <code>Makefile</code> target <code>make test-prob2</code>:
</p>
<div class="org-src-container">
<pre class="src src-sh">&gt; make test-prob2                       # compile/run puzzlebox with input.txt
gcc -Wall -g -c puzzlebox.c
gcc -Wall -g -o puzzlebox puzzlebox.o
./puzzlebox input.txt
UserID 'kauf0095' accepted: hash value = 1397510491
PHASE 1: A puzzle you say? Challenge accepted!

Ah ah ah, you didn't say the magic word...
Failure: Double debugger burger, order up!

  * Score: 0 / 50 pts *
</pre>
</div>

<p>
These initial forays are not positive (0 / 50 points) but the real
meat of the problem is in examining the source code and determining
inputs for <code>input.txt</code>.
</p>
</div>
</div>

<div id="outline-container-org4c6d2e3" class="outline-3">
<h3 id="org4c6d2e3"><span class="section-number-3">4.3</span> <code>gdb</code> The GNU Debugger</h3>
<div class="outline-text-3" id="text-4-3">
<p>
You will definitely need to use a debugger to solve the puzzlebox and
<code>gdb</code> is the quintessential debugger associated with our compiler
<code>gcc</code>.  It is installed by default on all lab machines and is an easy
install on must Linux machines.
</p>

<p>
For a quick overview of GDB, here are some resources
</p>
<ul class="org-ul">
<li><a href="http://www-users.cs.umn.edu/~kauffman/2021/gdb.html">CSCI 2021 Quick Guide to gdb: The GNU Debugger</a>: Page describing how to start the
debugger, a sample session using <code>puzzlebox</code>, an overview of the
most common commands.</li>
<li><a href="https://www.youtube.com/watch?v%3DPorfLSr3DDI">CppCon 2015: Greg Law " Give me 15 minutes &amp; I'll change your view
of GDB"</a>: Video giving basic overview of hope to run <code>gdb</code> on simple
programs with an emphasis on differences between "normal" mode and
TUI mode</li>
<li><a href="http://www.yolinux.com/TUTORIALS/GDB-Commands.html">GNU GDB Debugger Command Cheat Sheet</a>: Extensive list of commands</li>
<li><a href="https://sourceware.org/gdb/current/onlinedocs/gdb/">Debugging with GDB</a>: Official manual for <code>gdb</code></li>
</ul>
</div>
</div>

<div id="outline-container-orgfa1e988" class="outline-3">
<h3 id="orgfa1e988"><span class="section-number-3">4.4</span> Typical Cycle</h3>
<div class="outline-text-3" id="text-4-4">
<p>
A typical cycle of working on <code>puzzlebox</code> will be the following.
</p>
<ul class="org-ul">
<li><p>
Start the debugger with puzzlebox
</p>
<pre class="example">
gdb -tui ./puzzlebox
</pre></li>
<li><p>
Set the arguments array to <code>input.txt</code>
</p>
<pre class="example">
set args input.txt
</pre></li>
<li><p>
Set a breakpoint at a phase like <code>phase3</code>
</p>
<pre class="example">
break phase3
</pre></li>
<li><p>
Run the program
</p>
<pre class="example">
run
</pre></li>
<li><p>
Do some stepping / nexting
</p>
<pre class="example">
step
next
</pre></li>
<li><p>
Print some variables
</p>
<pre class="example">
print a
print/x b
</pre></li>
<li>Make some changes to <code>input.txt</code> in a different window</li>
<li><p>
Re-run the program to see if things have changed favorably
</p>
<pre class="example">
kill
run
</pre></li>
</ul>
</div>
</div>

<div id="outline-container-org759236b" class="outline-3">
<h3 id="org759236b"><span class="section-number-3">4.5</span> Kinds of Puzzles</h3>
<div class="outline-text-3" id="text-4-5">
<p>
The puzzles presented in the different phases make use of a variety of
C program techniques which we have or will discuss including.
</p>
<ul class="org-ul">
<li>Bit-wise operations and their use in place of arithmetic</li>
<li>String and character array manipulations</li>
<li>Interpreting bits as one of several kinds of things (integer, float,
character) through pointers and unions</li>
<li>More extensive C control structures like <code>goto</code> and labels</li>
</ul>
</div>
</div>

<div id="outline-container-org1678ee6" class="outline-3 grading 50">
<h3 id="org1678ee6"><span class="section-number-3">4.6</span> Tests for <code>puzzlebox.c</code>&#xa0;&#xa0;&#xa0;<span class="tag"><span class="grading">grading</span>&#xa0;<span class="50">50</span></span></h3>
<div class="outline-text-3" id="text-4-6">
<p>
<code>puzzlebox.c</code> itself reports how many points one can earn at the end
of its execution.
</p>

<p>
Currently there are <b>60 points available but 50 points is considered
full credit.</b> 
</p>

<p>
If any additional points are earned, they will be counted as <b>Makeup
Credit for Projects</b> to make up for credit lost on past or future
projects.  Your total score on All Projects cannot exceed 100% so any
points beyond will simply be dropped.
</p>

<p>
<b>Run the following command to 'test' puzzlebox</b>:
</p>
<pre class="example">
make test-prob2
</pre>
</div>
</div>
</div>

<div id="outline-container-org1954e2f" class="outline-2">
<h2 id="org1954e2f"><span class="section-number-2">5</span> Assignment Submission</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-org5897ee6" class="outline-3">
<h3 id="org5897ee6"><span class="section-number-3">5.1</span> <a id="orgcef9f09"></a> Submit to Gradescope</h3>
<div class="outline-text-3" id="text-5-1">
<p>
Refer to the Project 1 instructions and adapt them for details of how
to submit to Gradescope. In summary they are
</p>

<ol class="org-ol">
<li>Type <code>make zip</code> in the project directory to create <code>p2-code.zip</code></li>
<li>Log into <a href="https://www.gradescope.com/">Gradescope</a>, select Project 2, and upload <code>p2-code.zip</code></li>
</ol>
</div>
</div>

<div id="outline-container-orge22a52e" class="outline-3">
<h3 id="orge22a52e"><span class="section-number-3">5.2</span> Late Policies</h3>
<div class="outline-text-3" id="text-5-2">
<p>
You may wish to review the policy on late project submission which
will cost 1 Engagement Point per day late. <b>No projects will be
accepted more than 48 hours after the deadline.</b>
</p>

<p>
<a href="https://www-users.cs.umn.edu/~kauffman/2021/syllabus.html">https://www-users.cs.umn.edu/~kauffman/2021/syllabus.html</a>
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<hr/> <i> Author: Chris Kauffman (<a href="mailto:kauffman@umn.edu">kauffman@umn.edu</a>) <br/> Date: 2022-02-18 Fri 17:48 <br/> </i>
</div>
</body>
</html>
